{"version":3,"sources":["config.js","api/auth/index.js","utils/index.js","components/Navbar/Navbar.js","components/Cart/CartHelpers.js","components/Layout/Layout.js","components/PrivateRoute/PrivateRoute.js","components/AdminRoute/AdminRoute.js","components/ProductImage/ProductImage.js","components/Product/Product.js","components/Checkbox/Checkbox.js","api/category/index.js","api/product/index.js","components/Search/Search.js","api/braintree/index.js","api/order/index.js","components/Checkout/Checkout.js","components/RadioBox/RadioBox.js","components/shop/Shop.js","pages/Home/Home.js","pages/Signup/Signup.js","pages/Signin/Signin.js","api/user/index.js","pages/Dashboard/Dashboard.js","pages/AdminDashboard/AdminDashboard.js","pages/CreateCategory/CreateCategory.js","pages/CreateProduct/CreateProduct.js","pages/UpdateProduct/UpdateProduct.js","pages/ProductDetails/ProductDetails.js","pages/Cart/Cart.js","pages/Orders/Orders.js","pages/User/Profile.js","pages/ManageProducts/ManageProducts.js","Routes.js","App.js","index.js"],"names":["API","signup","user","a","fetch","method","headers","Accept","body","JSON","stringify","res","json","console","log","signin","signout","next","window","localStorage","removeItem","isAuthenticated","getItem","parse","isActive","history","path","location","pathname","color","prices","_id","name","array","withRouter","className","to","type","id","style","length","foundUser","role","cursor","onClick","push","Layout","title","description","children","PrivateRoute","Component","component","rest","render","props","state","from","AdminRoute","ProductImage","item","url","src","alt","Product","quantity","product","cartUpdate","showViewProductButton","showAddToCartButton","showRemoveProductButton","useState","redirect","setRedirect","count","setCount","handleChange","productId","event","target","value","cart","map","index","setItem","updateItem","addToCart","Array","Set","p","find","addProductToCart","shouldRedirect","substring","price","category","moment","createdAt","fromNow","showAddToCart","showViewButton","splice","showRemoveButton","onChange","showCardUpdateOptions","Checkbox","categories","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","htmlFor","createCategory","userId","token","Authorization","getCategories","createProduct","fetchAllProducts","sortBy","fetchFilteredProducts","skip","limit","filters","data","list","params","query","queryString","listRelated","getProducts","deleteProduct","read","updateProduct","Search","search","results","searched","setData","useEffect","then","error","e","handleSubmit","preventDefault","undefined","searchMessage","onSubmit","c","i","placeholder","border","searchedProducts","getBraintreeClientToken","processPayment","paymentData","createOrder","createOrderData","order","listOrders","getPaymentStatus","updateOrderStatus","orderId","status","Checkout","products","success","clientToken","instance","address","loading","getToken","handleAddress","getTotal","reduce","currentValue","nextValue","showDropIn","onBlur","options","authorization","paypal","flow","onInstance","buy","deliveryAddress","requestPaymentMethod","paymentMethodNonce","nonce","amount","transaction_id","transaction","catch","err","message","display","RadioBox","setValue","Shop","setCategories","myFilters","setMyFilters","setSkip","size","setSize","filteredResults","setFilteredResults","setError","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","key","parseInt","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","Signup","email","password","values","setValues","redirectUser","require","Signin","redirectToReferrer","authenticate","showLoading","update","getPurchaseHistory","Dashboard","setHistory","loadPurchaseHistory","h","pIndex","AdminDashboard","CreateCategory","setName","setSuccess","showError","showSuccess","autoFocus","required","CreateProduct","shipping","photo","redirectToProfile","formData","FormData","files","set","accept","goBack","UpdateProduct","match","initializeCategoriesAndFormData","ProductDetails","setProduct","relatedProduct","setRelatedProduct","fetchSingleProduct","Cart","items","setItems","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","showInput","readOnly","showStatus","handleStatusChange","borderBottom","padding","Profile","auth","updateUser","profileUpdate","ManageProducts","setProducts","fetchProducts","Routes","exact","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"8MAAaA,EAAM,+BCENC,EAAM,uCAAG,WAAOC,GAAP,eAAAC,EAAA,+EAEAC,MAAM,GAAD,OAAIJ,EAAJ,WAAkB,CACvCK,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUR,KARL,cAEZS,EAFY,gBAULA,EAAIC,OAVC,wEAYlBC,QAAQC,IAAR,MAZkB,yDAAH,sDAgBNC,EAAM,uCAAG,WAAOb,GAAP,eAAAC,EAAA,+EAEAC,MAAM,GAAD,OAAIJ,EAAJ,WAAkB,CACvCK,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUR,KARL,cAEZS,EAFY,gBAULA,EAAIC,OAVC,wEAYlBC,QAAQC,IAAR,MAZkB,yDAAH,sDAwBNE,EAAO,uCAAG,WAAOC,GAAP,SAAAd,EAAA,yDAEC,qBAAXe,OAFU,wBAGnBC,aAAaC,WAAW,OACxBH,IAJmB,kBAOCb,MAAM,GAAD,OAAIJ,EAAJ,YAAmB,CACxCK,OAAQ,QARO,eAWfQ,QAAQC,IAAI,wBAXG,kDAcjBD,QAAQC,IAAR,MAdiB,0DAAH,sDAmBPO,EAAkB,WAC7B,MAAqB,oBAAVH,WAGPC,aAAaG,QAAQ,QAChBb,KAAKc,MAAMJ,aAAaG,QAAQ,U,cClE9BE,EAAW,SAACC,EAASC,GAChC,OAAID,EAAQE,SAASC,WAAaF,EACzB,CAAEG,MAAO,WAEX,CAAEA,MAAO,SAGLC,EAAS,CACpB,CACEC,IAAK,EACLC,KAAM,MACNC,MAAO,IAET,CACEF,IAAK,EACLC,KAAM,WACNC,MAAO,CAAC,EAAG,IAEb,CACEF,IAAK,EACLC,KAAM,aACNC,MAAO,CAAC,GAAI,KAEd,CACEF,IAAK,EACLC,KAAM,aACNC,MAAO,CAAC,GAAI,KAEd,CACEF,IAAK,EACLC,KAAM,aACNC,MAAO,CAAC,GAAI,KAEd,CACEF,IAAK,EACLC,KAAM,gBACNC,MAAO,CAAC,GAAI,M,OCuFDC,mBArHf,YAA8B,IAAZT,EAAW,EAAXA,QAChB,OACE,qBAAKU,UAAU,iDAAf,SACE,sBAAKA,UAAU,YAAf,UACE,cAAC,IAAD,CAAMA,UAAU,eAAeC,GAAG,IAAlC,sBAGA,wBACED,UAAU,iBACVE,KAAK,SACL,iBAAe,WACf,iBAAe,qBACf,gBAAc,oBACd,gBAAc,QACd,aAAW,oBAPb,SASE,sBAAMF,UAAU,0BAElB,qBAAKA,UAAU,2BAA2BG,GAAG,oBAA7C,SACE,qBAAIH,UAAU,qBAAd,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,kBACV,eAAa,OACbC,GAAG,IACHG,MAAOf,EAASC,EAAS,KAJ3B,oBASF,oBAAIU,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,kBACV,eAAa,OACbC,GAAG,QACHG,MAAOf,EAASC,EAAS,SAJ3B,oBASF,oBAAIU,UAAU,WAAd,SACE,eAAC,IAAD,CACEA,UAAU,kBACV,eAAa,OACbC,GAAG,QACHG,MAAOf,EAASC,EAAS,SAJ3B,kBAMO,sBAAMU,UAAU,qBAAhB,SC9BG,qBAAXjB,QACLC,aAAaG,QAAQ,QAChBb,KAAKc,MAAMJ,aAAaG,QAAQ,SAASkB,OAG7C,SD6BInB,KAA0D,IAArCA,IAAkBoB,UAAUC,MAChD,oBAAIP,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,kBACV,eAAa,OACbC,GAAG,kBACHG,MAAOf,EAASC,EAAS,mBAJ3B,yBAUHJ,KAA0D,IAArCA,IAAkBoB,UAAUC,MAChD,oBAAIP,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,kBACV,eAAa,OACbC,GAAG,mBACHG,MAAOf,EAASC,EAAS,oBAJ3B,0BAUFJ,KACA,qCACE,oBAAIc,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,WACVC,GAAG,UACHG,MAAOf,EAASC,EAAS,WAH3B,uBAQF,oBAAIU,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,WACVC,GAAG,UACHG,MAAOf,EAASC,EAAS,WAH3B,0BAULJ,KACC,mCACE,oBAAIc,UAAU,WAAd,SACE,sBACEA,UAAU,WACVI,MAAO,CAAEI,OAAQ,UAAWd,MAAO,QACnCe,QAAS,kBAAM5B,GAAQ,kBAAMS,EAAQoB,KAAK,SAH5C,uCErFHC,EAnBA,SAAC,GAKT,IAAD,IAJJC,aAII,MAJI,QAIJ,MAHJC,mBAGI,MAHU,cAGV,EAFJb,EAEI,EAFJA,UACAc,EACI,EADJA,SAEA,OACE,qCACE,cAAC,EAAD,IACA,qBAAKd,UAAU,+BAAf,SACE,sBAAKA,UAAU,YAAf,UACE,6BAAKY,IACL,mBAAGZ,UAAU,OAAb,SAAqBa,SAGzB,qBAAKb,UAAWA,EAAhB,SAA4Bc,Q,wBCKnBC,EAnBM,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,iBAC1D,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,SAACC,GAAD,OACNlC,IACE,cAAC8B,EAAD,eAAeI,IAEf,cAAC,IAAD,CACEnB,GAAI,CACFR,SAAU,UACV4B,MAAO,CAAEC,KAAMF,EAAM5B,kB,gBCQpB+B,EAnBI,SAAC,GAAuC,IAA1BP,EAAyB,EAApCC,UAAyBC,EAAW,iBACxD,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,SAACC,GAAD,OACNlC,KAAyD,IAApCA,IAAkBoB,UAAUC,KAC/C,cAACS,EAAD,eAAeI,IAEf,cAAC,IAAD,CACEnB,GAAI,CACFR,SAAU,UACV4B,MAAO,CAAEC,KAAMF,EAAM5B,kB,OCCpBgC,EAZM,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,IAC5B,OACE,qBAAK1B,UAAU,cAAf,SACE,qBACE2B,IAAG,UAAK9D,EAAL,YAAY6D,EAAZ,kBAAyBD,EAAK7B,KACjCgC,IAAKH,EAAK5B,KACVG,UAAU,yB,iBCsHH6B,EArHC,SAAC,GAMV,IAiEcC,EAtEnBC,EAKI,EALJA,QAKI,IAJJC,kBAII,aAHJC,6BAGI,aAFJC,2BAEI,aADJC,+BACI,SACJ,EAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BF,mBAASL,EAAQQ,OAA3C,mBAAOA,EAAP,KAAcC,EAAd,KAqCMC,EAAe,SAACC,GAAD,OAAe,SAACC,GACnCH,EAASG,EAAMC,OAAOC,MAAQ,EAAI,EAAIF,EAAMC,OAAOC,OAC/CF,EAAMC,OAAOC,OAAS,GLjBJ,SAACH,EAAWH,GACpC,IAAIO,EAAO,GACW,qBAAX/D,SACLC,aAAaG,QAAQ,UACvB2D,EAAOxE,KAAKc,MAAMJ,aAAaG,QAAQ,UAEzC2D,EAAKC,KAAI,SAAChB,EAASiB,GAIjB,OAHIjB,EAAQnC,MAAQ8C,IAClBI,EAAKE,GAAOT,MAAQA,GAEfR,KAET/C,aAAaiE,QAAQ,OAAQ3E,KAAKC,UAAUuE,KKM1CI,CAAWR,EAAWC,EAAMC,OAAOC,SA8BjCM,EAAY,YLxFY,SAAC1B,EAAM3C,GACrC,IAAIgE,EAAO,GACW,qBAAX/D,SAELC,aAAaG,QAAQ,UACvB2D,EAAOxE,KAAKc,MAAMJ,aAAaG,QAAQ,UAGzC2D,EAAKpC,KAAL,2BACKe,GADL,IAEEc,MAAO,KAGTO,EAAOM,MAAM9B,KAAK,IAAI+B,IAAIP,EAAKC,KAAI,SAACO,GAAD,OAAOA,EAAE1D,SAAOmD,KAAI,SAAC5C,GACtD,OAAO2C,EAAKS,MAAK,SAACD,GAAD,OAAOA,EAAE1D,MAAQO,QAGpCnB,aAAaiE,QAAQ,OAAQ3E,KAAKC,UAAUuE,IAC5ChE,KKuEA0E,CAAiBzB,GAAS,WACxBO,GAAY,OAUhB,OACE,sBAAKtC,UAAU,OAAf,UACE,qBAAKA,UAAU,mBAAf,SAAmC+B,EAAQlC,OAC3C,sBAAKG,UAAU,YAAf,UATmB,WACrB,GAAIqC,EACF,OAAO,cAAC,IAAD,CAAUpC,GAAG,UAQjBwD,GACD,cAAC,EAAD,CAAchC,KAAMM,EAASL,IAAI,YACjC,mBAAG1B,UAAU,iBAAb,SAA+B+B,EAAQlB,YAAY6C,UAAU,EAAG,MAChE,oBAAG1D,UAAU,qBAAb,eAAqC+B,EAAQ4B,SAC7C,sBAAK3D,UAAU,GAAf,UACE,sBAAMA,UAAU,aAAhB,sBACA,sBAAMA,UAAU,2BAAhB,SACG+B,EAAQ6B,UAAY7B,EAAQ6B,SAAS/D,UAG1C,oBAAGG,UAAU,eAAb,mBACS6D,IAAO9B,EAAQ+B,WAAWC,aAEnC,+BApCajC,EAoCGC,EAAQD,SAnCrBA,EAAW,EAChB,sBAAM9B,UAAU,iCAAhB,sBAEA,sBAAMA,UAAU,gCAAhB,6BA1CkB,SAACkC,GACrB,OACEA,GACE,yBACEzB,QAAS0C,EACTnD,UAAU,qCAFZ,wBAIc,OAoEbgE,CAAc9B,GAlGE,SAACD,GACtB,OACEA,GACE,cAAC,IAAD,CAAMhC,GAAE,oBAAe8B,EAAQnC,KAA/B,SACE,wBAAQI,UAAU,oCAAlB,4BA+FDiE,CAAehC,GAxFG,SAACE,GACxB,OACEA,GACE,wBACE1B,QAAS,kBLoBO,SAACiC,GACzB,IAAII,EAAO,GAaX,MAZsB,qBAAX/D,SACLC,aAAaG,QAAQ,UACvB2D,EAAOxE,KAAKc,MAAMJ,aAAaG,QAAQ,UAEzC2D,EAAKC,KAAI,SAAChB,EAASiB,GAIjB,OAHIjB,EAAQnC,MAAQ8C,GAClBI,EAAKoB,OAAOlB,EAAO,GAEdF,KAET9D,aAAaiE,QAAQ,OAAQ3E,KAAKC,UAAUuE,KAEvCA,EKlCgB7D,CAAW8C,EAAQnC,MAClCI,UAAU,mCAFZ,4BAsFCmE,CAAiBhC,GA3DM,SAACH,GAC7B,OACEA,GACE,8BACE,sBAAKhC,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,+BAEF,uBACE6C,MAAON,EACP6B,SAAU3B,EAAaV,EAAQnC,KAC/BM,KAAK,SACLF,UAAU,eACVH,KAAK,UA+CVwE,CAAsBrC,U,QCvHhB,SAASsC,EAAT,GAAkD,IAA9BC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,cAC7C,EAA8BpC,mBAAS,IAAvC,mBAAOqC,EAAP,KAAgBC,EAAhB,KAEMC,EAAe,SAACf,GAAD,OAAc,WAEjC,IAAMgB,EAAoBH,EAAQI,QAAQjB,GACpCkB,EAAoB,YAAOL,IAGN,IAAvBG,EACFE,EAAqBpE,KAAKkD,GAG1BkB,EAAqBZ,OAAOU,EAAmB,GAGjDF,EAAWI,GAEXN,EAAcM,KAGhB,OACE,mCACGP,EAAWxB,KAAI,SAACa,GAAD,OACd,qBAAwB5D,UAAU,8BAAlC,UACE,uBACEoE,SAAUO,EAAaf,EAAShE,KAChCiD,MAAO4B,EAAQI,SAA0B,IAAlBjB,EAAShE,KAChCM,KAAK,WACLF,UAAU,0BAEZ,uBAAO+E,QAAQ,GAAG/E,UAAU,mBAA5B,SACG4D,EAAS/D,SARL+D,EAAS/D,W,WCxBbmF,EAAc,uCAAG,WAAOC,EAAQC,EAAOtB,GAAtB,eAAA5F,EAAA,+EAERC,MAAM,GAAD,OAAIJ,EAAJ,4BAA2BoH,GAAU,CAC1D/G,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,IAE3B7G,KAAMC,KAAKC,UAAUqF,KATG,cAEpBpF,EAFoB,yBAYnBA,EAAIC,QAZe,gCAc1BC,QAAQC,IAAR,MAd0B,yDAAH,0DAkBdyG,EAAa,uCAAG,4BAAApH,EAAA,+EAEPC,MAAM,GAAD,OAAIJ,EAAJ,eAAsB,CAAEK,OAAQ,QAF9B,cAEnBM,EAFmB,yBAGlBA,EAAIC,QAHc,gCAKzBC,QAAQC,IAAR,MALyB,yDAAH,qD,iBCjBb0G,EAAa,uCAAG,WAAOJ,EAAQC,EAAOnD,GAAtB,eAAA/D,EAAA,+EAEPC,MAAM,GAAD,OAAIJ,EAAJ,4BAA2BoH,GAAU,CAC1D/G,OAAQ,OACRC,QAAS,CACPgH,cAAc,UAAD,OAAYD,IAG3B7G,KAAM0D,IARiB,cAEnBvD,EAFmB,yBAUlBA,EAAIC,QAVc,gCAYzBC,QAAQC,IAAR,MAZyB,yDAAH,0DAgBb2G,EAAgB,uCAAG,WAAOC,GAAP,eAAAvH,EAAA,+EAEVC,MAAM,GAAD,OAClBJ,EADkB,4BACK0H,EADL,uBAErB,CACErH,OAAQ,QALgB,cAEtBM,EAFsB,yBAQrBA,EAAIC,QARiB,gCAU5BC,QAAQC,IAAR,MAV4B,yDAAH,sDAchB6G,EAAqB,uCAAG,WAAOC,EAAMC,GAAb,+BAAA1H,EAAA,6DAAoB2H,EAApB,+BAA8B,GAC3DC,EAAO,CAAEH,OAAMC,QAAOC,WADO,kBAGf1H,MAAM,GAAD,OAAIJ,EAAJ,uBAA8B,CACnDK,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUqH,KATU,cAG3BpH,EAH2B,yBAW1BA,EAAIC,QAXsB,gCAajCC,QAAQC,IAAR,MAbiC,yDAAH,wDAiBrBkH,EAAI,uCAAG,WAAOC,GAAP,iBAAA9H,EAAA,sEAEV+H,EAAQC,IAAYzH,UAAUuH,GAFpB,SAGE7H,MAAM,GAAD,OAAIJ,EAAJ,4BAA2BkI,GAAS,CACzD7H,OAAQ,QAJM,cAGVM,EAHU,yBAMTA,EAAIC,QANK,gCAQhBC,QAAQC,IAAR,MARgB,yDAAH,sDAYJsH,EAAW,uCAAG,WAAOvD,GAAP,eAAA1E,EAAA,+EAELC,MAAM,GAAD,OAAIJ,EAAJ,6BAA4B6E,GAAa,CAC9DxE,OAAQ,QAHa,cAEjBM,EAFiB,yBAKhBA,EAAIC,QALY,gCAOvBC,QAAQC,IAAR,MAPuB,yDAAH,sDAcXuH,EAAW,uCAAG,4BAAAlI,EAAA,+EAELC,MAAM,kCAAmC,CACzDC,OAAQ,QAHa,cAEjBM,EAFiB,yBAKhBA,EAAIC,QALY,gCAOvBC,QAAQC,IAAR,MAPuB,yDAAH,qDAYXwH,EAAa,uCAAG,WAAOzD,EAAWuC,EAAQC,GAA1B,eAAAlH,EAAA,+EAEPC,MAAM,GAAD,OAAIJ,EAAJ,qBAAoB6E,EAApB,YAAiCuC,GAAU,CAChE/G,OAAQ,SACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,MAPJ,cAEnB1G,EAFmB,yBAUlBA,EAAIC,QAVc,gCAYzBC,QAAQC,IAAR,MAZyB,yDAAH,0DAiBbyH,EAAI,uCAAG,WAAOjG,GAAP,eAAAnC,EAAA,+EAEEC,MAAM,GAAD,OAAIJ,EAAJ,qBAAoBsC,GAAM,CAC/CjC,OAAQ,QAHM,cAEVM,EAFU,yBAKTA,EAAIC,QALK,gCAOhBC,QAAQC,IAAR,MAPgB,yDAAH,sDAWJ0H,EAAa,uCAAG,WAAO3D,EAAWuC,EAAQC,EAAOnD,GAAjC,eAAA/D,EAAA,+EAEPC,MAAM,GAAD,OAAIJ,EAAJ,qBAAoB6E,EAApB,YAAiCuC,GAAU,CAChE/G,OAAQ,QACRC,QAAS,CACPgH,cAAc,UAAD,OAAYD,IAG3B7G,KAAM0D,IARiB,cAEnBvD,EAFmB,yBAUlBA,EAAIC,QAVc,gCAYzBC,QAAQC,IAAR,MAZyB,yDAAH,4DC/GX,SAAS2H,IACtB,MAAwBlE,mBAAS,CAC/BmC,WAAY,GACZX,SAAU,GACV2C,OAAQ,GACRC,QAAS,GACTC,UAAU,IALZ,mBAAOb,EAAP,KAAac,EAAb,KAQQnC,EAAoDqB,EAApDrB,WAAYX,EAAwCgC,EAAxChC,SAAU2C,EAA8BX,EAA9BW,OAAQC,EAAsBZ,EAAtBY,QAASC,EAAab,EAAba,SAW/CE,qBAAU,WARRvB,IAAgBwB,MAAK,SAAChB,GAChBA,EAAKiB,MACPnI,QAAQC,IAAIiH,EAAKiB,OAEjBH,EAAQ,2BAAKd,GAAN,IAAYrB,WAAYqB,UAMlC,IAEH,IAAMnD,EAAe,SAAC5C,GAAD,OAAU,SAACiH,GAAO,IAAD,EACpCJ,EAAQ,2BACHd,GADE,uBAEJ/F,EAAOiH,EAAElE,OAAOC,OAFZ,0BAGK,GAHL,OA8BHkE,EAAe,SAACD,GACpBA,EAAEE,iBAZET,GACFV,EAAK,CAAEU,OAAQA,QAAUU,EAAWrD,aAAYgD,MAAK,SAACpI,GAChDA,EAAIqI,MACNnI,QAAQC,IAAIH,EAAIqI,OAEhBH,EAAQ,2BAAKd,GAAN,IAAYY,QAAShI,EAAKiI,UAAU,SAU7CS,EAAgB,SAACT,EAAUD,GAC/B,OAAIC,GAAYD,EAAQnG,OAAS,EACzB,SAAN,OAAgBmG,EAAQnG,OAAxB,aAEEoG,GAAYD,EAAQnG,OAAS,EACxB,yBADT,GAgCF,OACE,8BACE,qBAAKL,UAAU,MAAf,SACE,sBAAKA,UAAU,YAAf,UA9BJ,sBAAMmH,SAAUJ,EAAc/G,UAAU,OAAxC,SACE,uBAAMA,UAAU,mBAAhB,UACE,sBAAKA,UAAU,6BAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,yBAAQA,UAAU,UAAUoE,SAAU3B,EAAa,YAAnD,UACE,wBAAQI,MAAM,MAAd,iBACC0B,EAAWxB,KAAI,SAACqE,EAAGC,GAAJ,OACd,wBAAgBxE,MAAOuE,EAAExH,IAAzB,SACGwH,EAAEvH,MADQwH,WAOnB,uBACEnH,KAAK,SACLF,UAAU,eACVoE,SAAU3B,EAAa,UACvB6E,YAAY,sBAGhB,qBAAKtH,UAAU,yBAAyBI,MAAO,CAAEmH,OAAQ,QAAzD,SACE,wBAAQvH,UAAU,mBAAlB,2BA3DiB,WAAmB,IAAlBwG,EAAiB,uDAAP,GAClC,OACE,qCACE,qBAAKxG,UAAU,YAAf,SAA4BkH,EAAcT,EAAUD,KACpD,qBAAKxG,UAAU,MAAf,SACGwG,EAAQzD,KAAI,SAAChB,EAASsF,GAAV,OACX,cAAC,EAAD,CAAiBtF,QAASA,GAAZsF,WA+DfG,CAAiBhB,U,2BCvGfiB,EAAuB,uCAAG,WAAOxC,EAAQC,GAAf,eAAAlH,EAAA,+EAEjBC,MAAM,GAAD,OAAIJ,EAAJ,gCAA+BoH,GAAU,CAC9D/G,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,MAPM,cAE7B1G,EAF6B,yBAU5BA,EAAIC,QAVwB,gCAYnCC,QAAQC,IAAR,MAZmC,yDAAH,wDAgBvB+I,EAAc,uCAAG,WAAOzC,EAAQC,EAAOyC,GAAtB,eAAA3J,EAAA,+EAERC,MAAM,GAAD,OAAIJ,EAAJ,8BAA6BoH,GAAU,CAC5D/G,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,IAE3B7G,KAAMC,KAAKC,UAAUoJ,KATG,cAEpBnJ,EAFoB,yBAWnBA,EAAIC,QAXe,gCAa1BC,QAAQC,IAAR,MAb0B,yDAAH,0DChBdiJ,GAAW,uCAAG,WAAO3C,EAAQC,EAAO2C,GAAtB,eAAA7J,EAAA,+EAELC,MAAM,GAAD,OAAIJ,EAAJ,yBAAwBoH,GAAU,CACvD/G,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,IAE3B7G,KAAMC,KAAKC,UAAU,CAAEuJ,MAAOD,MATT,cAEjBrJ,EAFiB,yBAWhBA,EAAIC,QAXY,gCAavBC,QAAQC,IAAR,MAbuB,yDAAH,0DAiBXoJ,GAAU,uCAAG,WAAO9C,EAAQC,GAAf,eAAAlH,EAAA,+EAEJC,MAAM,GAAD,OAAIJ,EAAJ,uBAAsBoH,GAAU,CACrD/G,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,MAPP,cAEhB1G,EAFgB,yBAUfA,EAAIC,QAVW,gCAYtBC,QAAQC,IAAR,MAZsB,yDAAH,wDAeVqJ,GAAgB,uCAAG,WAAO/C,EAAQC,GAAf,eAAAlH,EAAA,+EAEVC,MAAM,GAAD,OAAIJ,EAAJ,gCAA+BoH,GAAU,CAC9D/G,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,MAPD,cAEtB1G,EAFsB,yBAUrBA,EAAIC,QAViB,gCAY5BC,QAAQC,IAAR,MAZ4B,yDAAH,wDAgBhBsJ,GAAiB,uCAAG,WAAOhD,EAAQC,EAAOgD,EAASC,GAA/B,eAAAnK,EAAA,+EAEXC,MAAM,GAAD,OAAIJ,EAAJ,kBAAiBqK,EAAjB,mBAAmCjD,GAAU,CAClE/G,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,IAE3B7G,KAAMC,KAAKC,UAAU,CAAE4J,SAAQD,cATJ,cAEvB1J,EAFuB,yBAWtBA,EAAIC,QAXkB,gCAa7BC,QAAQC,IAAR,MAb6B,yDAAH,4DC6GfyJ,GAtJE,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAClB,EAAwBjG,mBAAS,CAC/BkG,SAAS,EACTC,YAAa,KACb1B,MAAO,GACP2B,SAAU,GACVC,QAAS,GACTC,SAAS,IANX,mBAAO9C,EAAP,KAAac,EAAb,KAQMzB,EAAS/F,KAAqBA,IAAkBoB,UAAUV,IAC1DsF,EAAQhG,KAAqBA,IAAkBgG,MAWrDyB,qBAAU,YATO,SAAC1B,EAAQC,GACxBuC,EAAwBxC,EAAQC,GAAO0B,MAAK,SAAChB,GACvCA,EAAKiB,MACPH,EAAQ,2BAAKd,GAAN,IAAYiB,MAAOjB,EAAKiB,SAE/BH,EAAQ,CAAE6B,YAAa3C,EAAK2C,iBAKhCI,CAAS1D,EAAQC,KAEhB,IAEH,IAyGiBoD,EAREzB,EAFE6B,EA/FfE,EAAgB,SAACjG,GACrB+D,EAAQ,2BAAKd,GAAN,IAAY6C,QAAS9F,EAAMC,OAAOC,UAGrCgG,EAAW,WACf,OAAOR,EAASS,QAAO,SAACC,EAAcC,GACpC,OAAOD,EAAeC,EAAUzG,MAAQyG,EAAUrF,QACjD,IAWCsF,EAAa,kBACjB,qBAAKC,OAAQ,kBAAMxC,EAAQ,2BAAKd,GAAN,IAAYiB,MAAO,OAA7C,SACwB,OAArBjB,EAAK2C,aAAwBF,EAAShI,OAAS,EAC9C,gCACE,sBAAKL,UAAU,kBAAf,UACE,uBAAOA,UAAU,aAAjB,+BACA,0BACEoE,SAAUwE,EACV5I,UAAU,eACV6C,MAAO+C,EAAK6C,QACZnB,YAAY,0CAGhB,cAAC,IAAD,CACE6B,QAAS,CACPC,cAAexD,EAAK2C,YACpBc,OAAQ,CACNC,KAAM,UAGVC,WAAY,SAACf,GAAD,OAAe5C,EAAK4C,SAAWA,KAE7C,wBAAQ/H,QAAS+I,EAAKxJ,UAAU,wBAAhC,wBAIA,QAGJyJ,EAAkB7D,EAAK6C,QACrBe,EAAM,WACV9C,EAAQ,CAAEgC,SAAS,IAKJ9C,EAAK4C,SACjBkB,uBACA9C,MAAK,SAAChB,GAGL,IAAM+B,EAAc,CAClBgC,mBAHM/D,EAAKgE,MAIXC,OAAQhB,KAEVnB,EAAezC,EAAQC,EAAOyC,GAC3Bf,MAAK,SAACpI,GACLkI,EAAQ,2BAAKd,GAAN,IAAY0C,QAAS9J,EAAI8J,WAEhC,IAAMT,EAAkB,CACtBQ,SAAUA,EACVyB,eAAgBtL,EAAIsL,eACpBD,OAAQrL,EAAIuL,YAAYF,OACxBpB,QAASgB,GAEX7B,GAAY3C,EAAQC,EAAO2C,GACxBjB,MAAK,SAACpI,GZrCI,IAACM,IYuCA,WACRJ,QAAQC,IAAI,gCACZ+H,EAAQ,CAAEgC,SAAS,EAAOJ,SAAS,KZxC7B,qBAAXvJ,SACTC,aAAaC,WAAW,QACxBH,QYyCWkL,OAAM,SAACC,GACNvL,QAAQC,IAAIsL,GACZvD,EAAQ,CAAEgC,SAAS,UAGxBsB,OAAM,SAACC,GACNvL,QAAQC,IAAIsL,GACZvD,EAAQ,CAAEgC,SAAS,UAGxBsB,OAAM,SAACnD,GACNH,EAAQ,2BAAKd,GAAN,IAAYiB,MAAOA,EAAMqD,eAqBtC,OACE,gCACE,oBAAGlK,UAAU,OAAb,qBAA6B6I,QApBZH,EAqBJ9C,EAAK8C,QApBpBA,GAAW,mBAAG1I,UAAU,OAAb,0BACM6G,EAoBJjB,EAAKiB,MAnBlB,qBACE7G,UAAU,qBACVI,MAAO,CAAE+J,QAAStD,EAAQ,GAAK,QAFjC,SAIGA,MAGYyB,EAaJ1C,EAAK0C,QAZhB,qBACEtI,UAAU,sBACVI,MAAO,CAAE+J,QAAS7B,EAAU,GAAK,QAFnC,oDAhGOpJ,IACL,8BAAM+J,MAEN,cAAC,IAAD,CAAMhJ,GAAG,UAAT,SACE,wBAAQD,UAAU,yBAAlB,uCC/CO,SAASoK,GAAT,GAA8C,IAA1BzK,EAAyB,EAAzBA,OAAQ6E,EAAiB,EAAjBA,cACzC,EAA0BpC,mBAAS,GAAnC,mBAAciI,GAAd,WAEM5H,EAAe,SAACE,GACpB6B,EAAc7B,EAAMC,OAAOC,OAC3BwH,EAAS1H,EAAMC,OAAOC,QAGxB,OACE,mCACGlD,EAAOoD,KAAI,SAACY,EAAOX,GAAR,OACV,gCACE,uBACEoB,SAAU3B,EACVI,MAAK,UAAKc,EAAM/D,KAChBC,KAAM8D,EACNzD,KAAK,QACLF,UAAU,qBAEZ,uBAAO+E,QAAQ,OAAO/E,UAAU,mBAAhC,SACG2D,EAAM9D,SATDmD,QCJH,SAASsH,KACtB,MAAoClI,mBAAS,IAA7C,mBAAOmC,EAAP,KAAmBgG,EAAnB,KACA,EAAkCnI,mBAAS,CACzCuD,QAAS,CAAE/B,SAAU,GAAID,MAAO,MADlC,mBAAO6G,EAAP,KAAkBC,EAAlB,KAGA,EAA0BrI,mBAAS,GAAnC,mBAAOsD,EAAP,KACA,GADA,KACwBtD,mBAAS,IAAjC,mBAAOqD,EAAP,KAAaiF,EAAb,KACA,EAAwBtI,mBAAS,GAAjC,mBAAOuI,EAAP,KAAaC,EAAb,KACA,EAA8CxI,mBAAS,IAAvD,mBAAOyI,EAAP,KAAwBC,EAAxB,KACA,EAA0B1I,oBAAS,GAAnC,mBAAc2I,GAAd,WAYMC,EAAsB,SAACC,GAC3BzF,EAAsBC,EAAMC,EAAOuF,GAAYrE,MAAK,SAAChB,GAC/CA,EAAKiB,MACPkE,EAASnF,EAAKiB,QAEdiE,EAAmBlF,EAAKA,MACxBgF,EAAQhF,EAAK+E,MACbC,EAAQhF,EAAK+E,MACbD,EAAQ,QAIRQ,EAAW,WACf,IAAIC,EAAS1F,EAAOC,EACpBF,EAAsB2F,EAAQzF,EAAO8E,EAAU7E,SAASiB,MAAK,SAAChB,GACxDA,EAAKiB,MACPkE,EAASnF,EAAKiB,QAEdiE,EAAmB,GAAD,mBAAKlF,EAAKA,MAAV,YAAmBA,EAAKA,QAC1CgF,EAAQhF,EAAK+E,MACbC,EAAQhF,EAAK+E,MACbD,EAAQS,QAcdxE,qBAAU,WA3CRvB,IAAgBwB,MAAK,SAAChB,GAChBA,EAAKiB,MACPkE,EAASnF,EAAKiB,OAEd0D,EAAc3E,MAyClBoF,EAAoBvF,EAAa+E,EAAU7E,WAC1C,IAEH,IAAMnB,EAAgB,SAACmB,EAASyF,GAC9B,IAAMH,EAAU,eAAQT,GAGxB,GAFAS,EAAWtF,QAAQyF,GAAYzF,EAEd,UAAbyF,EAAsB,CACxB,IAAIC,EAAcC,EAAY3F,GAC9BsF,EAAWtF,QAAQyF,GAAYC,EAEjCL,EAAoBR,EAAU7E,SAC9B8E,EAAaQ,IAGTK,EAAc,SAACzI,GACnB,IAAM+C,EAAOjG,EACTG,EAAQ,GAEZ,IAAK,IAAIyL,KAAO3F,EACVA,EAAK2F,GAAK3L,MAAQ4L,SAAS3I,KAC7B/C,EAAQ8F,EAAK2F,GAAKzL,OAGtB,OAAOA,GAGT,OACE,cAAC,EAAD,CACEc,MAAM,OACNC,YAAY,wCACZb,UAAU,YAHZ,SAKE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,UACE,mBAAGA,UAAU,mBAAb,kCACA,6BACE,cAACsE,EAAD,CACEC,WAAYA,EACZC,cAAe,SAACmB,GAAD,OAAanB,EAAcmB,EAAS,iBAIvD,mBAAG3F,UAAU,mBAAb,8BACA,qBAAKA,UAAU,OAAf,SACE,cAACoK,GAAD,CACEzK,OAAQA,EACR6E,cAAe,SAACmB,GAAD,OAAanB,EAAcmB,EAAS,iBAIzD,sBAAK3F,UAAU,SAAf,UACE,oBAAIA,UAAU,OAAd,sBACA,qBAAKA,UAAU,MAAf,SACG6K,EAAgB9H,KAAI,SAAChB,EAASsF,GAAV,OACnB,qBAAKrH,UAAU,aAAf,SACE,cAAC,EAAD,CAAS+B,QAASA,KADasF,QAKrC,uBAtEJsD,EAAO,GACPA,GAAQjF,GACN,wBAAQjF,QAASyK,EAAUlL,UAAU,uBAArC,+BCCOyL,OAxDf,WACE,MAA4CrJ,mBAAS,IAArD,mBAAOsJ,EAAP,KAAuBC,EAAvB,KACA,EAAkDvJ,mBAAS,IAA3D,mBAAOwJ,EAAP,KAA0BC,EAA1B,KACA,EAA0BzJ,oBAAS,GAAnC,mBAAc2I,GAAd,WAyBA,OALApE,qBAAU,WARRrB,EAAiB,aAAasB,MAAK,SAAChB,GAC9BA,EAAKiB,MACPkE,EAASnF,EAAKiB,OAEdgF,EAAqBjG,MAbzBN,EAAiB,QAAQsB,MAAK,SAAChB,GACzBA,EAAKiB,MACPkE,EAASnF,EAAKiB,OAEd8E,EAAkB/F,QAgBrB,IAGD,eAAC,EAAD,CACE5F,UAAU,YACVY,MAAM,YACNC,YAAY,4BAHd,UAKE,cAACyF,EAAD,IACA,oBAAItG,UAAU,OAAd,0BACA,qBAAKA,UAAU,MAAf,SACG0L,EAAe3I,KAAI,SAAChB,EAASiB,GAAV,OAClB,qBAAKhD,UAAU,gBAAf,SACE,cAAC,EAAD,CAAS+B,QAASA,KADgBiB,QAMxC,oBAAIhD,UAAU,OAAd,0BACA,qBAAKA,UAAU,MAAf,SACG4L,EAAkB7I,KAAI,SAAChB,EAASiB,GAAV,OACrB,qBAAKhD,UAAU,gBAAf,SACE,cAAC,EAAD,CAAqB+B,QAASA,GAAhBiB,IADoBA,YC2D/B8I,OAzGf,WACE,MAA4B1J,mBAAS,CACnCvC,KAAM,GACNkM,MAAO,GACPC,SAAU,GACVnF,MAAO,GACPyB,QAAS,KALX,mBAAO2D,EAAP,KAAeC,EAAf,KAOQrM,EAA0CoM,EAA1CpM,KAAMkM,EAAoCE,EAApCF,MAAOC,EAA6BC,EAA7BD,SAAUnF,EAAmBoF,EAAnBpF,MAAOyB,EAAY2D,EAAZ3D,QAEhC7F,EAAe,SAAC5C,GAAD,OAAU,SAACiH,GAC9BoF,EAAU,2BAAKD,GAAN,gBAAcpF,OAAO,GAAQhH,EAAOiH,EAAElE,OAAOC,WAGlDkE,EAAe,SAACD,GACpBA,EAAEE,iBACFlJ,EAAO,CAAE+B,OAAMkM,QAAOC,aAAYpF,MAAK,SAAChB,GAClCA,EAAKiB,MACPqF,EAAU,2BAAKD,GAAN,IAAcpF,MAAOjB,EAAKiB,MAAOyB,SAAS,KAEnD4D,EAAU,2BACLD,GADI,IAEPpM,KAAM,GACNkM,MAAO,GACPC,SAAU,GACVnF,MAAO,GACPyB,SAAS,SAiEjB,OACE,eAAC,EAAD,CACE1H,MAAM,SACNC,YAAY,yCACZb,UAAU,iCAHZ,UArBA,qBACEA,UAAU,qBACVI,MAAO,CAAE+J,QAAStD,EAAQ,GAAK,QAFjC,SAIGA,IAIH,qBACE7G,UAAU,sBACVI,MAAO,CAAE+J,QAAS7B,EAAU,GAAK,QAFnC,8DA9CA,uBAAMnB,SAAUJ,EAAhB,UACE,sBAAK/G,UAAU,aAAf,UACE,uBAAO+E,QAAQ,OAAO/E,UAAU,aAAhC,kBAGA,uBACEoE,SAAU3B,EAAa,QACvBI,MAAOhD,EACPK,KAAK,OACLF,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,QAAQ/E,UAAU,aAAjC,mBAGA,uBACEoE,SAAU3B,EAAa,SACvBI,MAAOkJ,EACP7L,KAAK,QACLF,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,WAAW/E,UAAU,aAApC,sBAGA,uBACEoE,SAAU3B,EAAa,YACvBI,MAAOmJ,EACP9L,KAAK,WACLF,UAAU,oBAGd,wBAAQA,UAAU,uBAAlB,wBAmBiB,WACnB,GAAId,IACF,OAAO,cAAC,IAAD,CAAUe,GAAG,MAYnBkM,OCrGC/J,GAAagK,EAAQ,GAArBhK,SAwGOiK,GAtGA,WACb,MAA4BjK,GAAS,CACnC2J,MAAO,GACPC,SAAU,GACVnF,MAAO,GACP6B,SAAS,EACT4D,oBAAoB,IALtB,mBAAOL,EAAP,KAAeC,EAAf,KAOQH,EAAwDE,EAAxDF,MAAOC,EAAiDC,EAAjDD,SAAUnF,EAAuCoF,EAAvCpF,MAAOyF,EAAgCL,EAAhCK,mBACxBhM,GADwD2L,EAAZvD,QAC9BxJ,IAAdoB,WACFmC,EAAe,SAAC5C,GAAD,OAAU,SAACiH,GAC9BoF,EAAU,2BAAKD,GAAN,gBAAcpF,OAAO,GAAQhH,EAAOiH,EAAElE,OAAOC,WAGlDkE,EAAe,SAACD,GACpBA,EAAEE,iBACFpI,EAAO,CAAEmN,QAAOC,WAAUtD,SAAS,IAAQ9B,MAAK,SAAChB,GAC3CA,EAAKiB,MACPqF,EAAU,2BAAKD,GAAN,IAAcpF,MAAOjB,EAAKiB,MAAO6B,SAAS,KpBW/B,SAAC9C,EAAM9G,GACX,qBAAXC,SACTC,aAAaiE,QAAQ,MAAO3E,KAAKC,UAAUqH,IAC3C9G,KoBZIyN,CAAa3G,GAAM,WACjBsG,EAAU,2BACLD,GADI,IAEPK,oBAAoB,YAiE9B,OACE,eAAC,EAAD,CACEtM,UAAU,iCACVY,MAAM,UACNC,YAAY,iCAHd,eAKG2L,EAnCH,qBACExM,UAAU,qBACVI,MAAO,CAAE+J,QAAStD,EAAQ,GAAK,QAFjC,SAIGA,IAhCH,uBAAMM,SAAUJ,EAAhB,UACE,sBAAK/G,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,QAAQ/E,UAAU,aAAjC,mBAGA,uBACEoE,SAAU3B,EAAa,SACvBI,MAAOkJ,EACP7L,KAAK,QACLF,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,WAAW/E,UAAU,aAApC,sBAGA,uBACEoE,SAAU3B,EAAa,YACvBI,MAAOmJ,EACP9L,KAAK,WACLF,UAAU,oBAGd,wBAAQA,UAAU,uBAAlB,wBAsBEsM,EACEhM,GAAgC,IAAnBA,EAAUC,KAClB,cAAC,IAAD,CAAUN,GAAG,qBAEb,cAAC,IAAD,CAAUA,GAAG,oBAGpBf,IACK,cAAC,IAAD,CAAUe,GAAG,WADtB,MCtFSmG,GAAI,uCAAG,WAAOnB,EAAQC,GAAf,eAAAlH,EAAA,+EAEEC,MAAM,GAAD,OAAIJ,EAAJ,iBAAgBoH,GAAU,CAC/C/G,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,MAPb,cAEV1G,EAFU,yBAUTA,EAAIC,QAVK,gCAYhBC,QAAQC,IAAR,MAZgB,yDAAH,wDAiBJ8N,GAAM,uCAAG,WAAOxH,EAAQC,EAAOnH,GAAtB,eAAAC,EAAA,+EAEAC,MAAM,GAAD,OAAIJ,EAAJ,iBAAgBoH,GAAU,CAC/C/G,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,IAE3B7G,KAAMC,KAAKC,UAAUR,KATL,cAEZS,EAFY,yBAWXA,EAAIC,QAXO,gCAalBC,QAAQC,IAAR,MAbkB,yDAAH,0DAkCN+N,GAAkB,uCAAG,WAAOzH,EAAQC,GAAf,eAAAlH,EAAA,+EAEZC,MAAM,GAAD,OAAIJ,EAAJ,2BAA0BoH,GAAU,CACzD/G,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB+G,cAAc,UAAD,OAAYD,MAPC,cAExB1G,EAFwB,yBAUvBA,EAAIC,QAVmB,gCAY9BC,QAAQC,IAAR,MAZ8B,yDAAH,wDC0ChBgO,GAzFG,WAChB,MAA8BvK,mBAAS,IAAvC,mBAAO9C,EAAP,KAAgBsN,EAAhB,KAWA,EAGI1N,IAHJ,IACEoB,UAAaV,EADf,EACeA,IAAKC,EADpB,EACoBA,KAAMkM,EAD1B,EAC0BA,MAAOxL,EADjC,EACiCA,KAC/B2E,EAFF,EAEEA,MAGFyB,qBAAU,YAdkB,SAAC1B,EAAQC,GACnCwH,GAAmBzH,EAAQC,GAAO0B,MAAK,SAAChB,GAClCA,EAAKiB,MACPnI,QAAQC,IAAIiH,EAAKiB,OAEjB+F,EAAWhH,MAUfiH,CAAoBjN,EAAKsF,KAExB,IAmBH,OACE,cAAC,EAAD,CACElF,UAAU,YACVY,MAAM,YACNC,YAAW,cAAShB,EAAT,KAHb,SAKE,sBAAKG,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SAxBJ,sBAAKA,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,wBACA,qBAAIA,UAAU,aAAd,UACE,oBAAIA,UAAU,kBAAd,SACE,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,QAA9B,oBAIF,oBAAID,UAAU,kBAAd,SACE,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAE,mBAAcL,GAA3C,sCAgBF,sBAAKI,UAAU,WAAf,UACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,qBAAIA,UAAU,aAAd,UACE,oBAAIA,UAAU,kBAAd,SAAiCH,IACjC,oBAAIG,UAAU,kBAAd,SAAiC+L,IACjC,oBAAI/L,UAAU,kBAAd,SACY,IAATO,EAAa,QAAU,0BAI9B,sBAAKP,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,oBAAIA,UAAU,aAAd,SACE,oBAAIA,UAAU,kBAAd,SACGV,EAAQyD,KAAI,SAAC+J,EAAG9J,GACf,OACE,gCACE,uBACC8J,EAAEzE,SAAStF,KAAI,SAAChB,EAASgL,GACxB,OACE,gCACE,gDAAmBhL,EAAQlC,QAC3B,iDAAoBkC,EAAQ4B,SAC5B,kDACmBE,IAAOiJ,EAAEhJ,WAAWC,eAJ/BgJ,QAJN/J,sBCTfgK,GA1DQ,WACrB,MAEI9N,IADFoB,UAAaT,EADf,EACeA,KAAMkM,EADrB,EACqBA,MAAOxL,EAD5B,EAC4BA,KA+B5B,OACE,cAAC,EAAD,CACEP,UAAU,YACVY,MAAM,kBACNC,YAAW,cAAShB,EAAT,KAHb,SAKE,sBAAKG,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SAlCJ,sBAAKA,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,yBACA,qBAAIA,UAAU,aAAd,UACE,oBAAIA,UAAU,kBAAd,SACE,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,yBAA9B,+BAIF,oBAAID,UAAU,kBAAd,SACE,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,wBAA9B,8BAIF,oBAAID,UAAU,kBAAd,SACE,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,gBAA9B,2BAIF,oBAAID,UAAU,kBAAd,SACE,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,kBAA9B,uCAgBF,qBAAKD,UAAU,WAAf,SACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,cAAd,+BACA,qBAAIA,UAAU,aAAd,UACE,oBAAIA,UAAU,kBAAd,SAAiCH,IACjC,oBAAIG,UAAU,kBAAd,SAAiC+L,IACjC,oBAAI/L,UAAU,kBAAd,SACY,IAATO,EAAa,QAAU,kCC0CzB0M,GAxFQ,WACrB,MAAwB7K,mBAAS,IAAjC,mBAAOvC,EAAP,KAAaqN,EAAb,KACA,EAA0B9K,oBAAS,GAAnC,mBAAOyE,EAAP,KAAckE,EAAd,KACA,EAA8B3I,oBAAS,GAAvC,mBAAOkG,EAAP,KAAgB6E,EAAhB,KAEA,EAA6BjO,IAArBoB,EAAR,EAAQA,UAAW4E,EAAnB,EAAmBA,MAEbzC,EAAe,SAACqE,GACpBiE,EAAS,IACTmC,EAAQpG,EAAElE,OAAOC,QAGbkE,EAAe,SAACD,GACpBA,EAAEE,iBACF+D,EAAS,IAET/F,EAAe1E,EAAUV,IAAKsF,EAAO,CAAErF,SAAQ+G,MAAK,SAAChB,GAC/CA,EAAKiB,MACPkE,EAASnF,EAAKiB,QAEdqG,EAAQ,IACRnC,EAAS,IACToC,GAAW,QAgDjB,OACE,cAAC,EAAD,CACEnN,UAAU,aACVY,MAAM,mBACNC,YAAW,cAASP,EAAUT,KAAnB,+BAHb,SAKE,qBAAKG,UAAU,MAAf,SACE,sBAAKA,UAAU,oBAAf,UAtBY,WAChB,GAAI6G,EACF,OACE,qBAAK7G,UAAU,qBAAf,SACE,sBAAMA,UAAU,kBAAhB,yCAmBCoN,GAhCW,WAClB,GAAI9E,EACF,OACE,qBAAKtI,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,mCA6BCqN,GAnDP,uBAAMlG,SAAUJ,EAAhB,UACE,sBAAK/G,UAAU,aAAf,UACE,uBAAO+E,QAAQ,OAAO/E,UAAU,aAAhC,kBAGA,uBACEoE,SAAU3B,EACVI,MAAOhD,EACPyN,WAAS,EACTC,UAAQ,EACRrN,KAAK,OACLF,UAAU,oBAGd,wBAAQA,UAAU,iCAAlB,gCAwBF,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,CAAMC,GAAG,mBAAT,yCCuISuN,GA1MO,WACpB,MAA4BpL,mBAAS,CACnCvC,KAAM,GACNgB,YAAa,GACb8C,MAAO,GACP7B,SAAU,GACV2L,SAAU,GACVC,MAAO,GACPnJ,WAAY,GACZX,SAAU,GACViD,MAAO,GACPyB,QAAS,GACTI,SAAS,EACTiF,mBAAmB,EACnBC,SAAU,KAbZ,mBAAO3B,EAAP,KAAeC,EAAf,KAgBErM,EASEoM,EATFpM,KACAgB,EAQEoL,EARFpL,YACA8C,EAOEsI,EAPFtI,MACA7B,EAMEmK,EANFnK,SACAyC,EAKE0H,EALF1H,WACAsC,EAIEoF,EAJFpF,MACAyB,EAGE2D,EAHF3D,QACAI,EAEEuD,EAFFvD,QACAkF,EACE3B,EADF2B,SAcFjH,qBAAU,WATRvB,IAAgBwB,MAAK,SAAChB,GAChBA,EAAKiB,MACPqF,EAAU,2BAAKD,GAAN,IAAcpF,MAAOjB,EAAKiB,SAEnCqF,EAAU,2BAAKD,GAAN,IAAc1H,WAAYqB,EAAMgI,SAAU,IAAIC,iBAQ1D,IAEH,MAA6B3O,IAArBoB,EAAR,EAAQA,UAAW4E,EAAnB,EAAmBA,MAEbzC,EAAe,SAAC5C,GAAD,OAAU,SAACiH,GAC9B,IAAMjE,EAAiB,UAAThD,EAAmBiH,EAAElE,OAAOkL,MAAM,GAAKhH,EAAElE,OAAOC,MAC9D+K,EAASG,IAAIlO,EAAMgD,GACnBqJ,EAAU,2BAAKD,GAAN,kBAAepM,EAAOgD,OAG3BkE,EAAe,SAACD,GACpBA,EAAEE,iBACFkF,EAAU,2BACLD,GADI,IAEPpF,MAAO,GACP6B,SAAS,KAEXrD,EAAc/E,EAAUV,IAAKsF,EAAO0I,GAAUhH,MAAK,SAAChB,GAC9CA,EAAKiB,MACPqF,EAAU,2BACLD,GADI,IAEPpF,MAAOjB,EAAKiB,MACZyB,SAAS,EACTI,SAAS,KAGXwD,EAAU,2BACLD,GADI,IAEPpM,KAAM,GACNgB,YAAa,GACb8C,MAAO,GACP7B,SAAU,GACV2L,SAAU,GACVC,MAAO,GACPnJ,WAAY,GACZX,SAAU,GACViD,MAAO,GACPyB,SAAS,EACTI,SAAS,EACTkF,SAAU,UAsGlB,OACE,cAAC,EAAD,CACE5N,UAAU,iBACVY,MAAM,kBACNC,YAAW,cAASP,EAAUT,KAAnB,8BAHb,SAKE,qBAAKG,UAAU,MAAf,SACE,sBAAKA,UAAU,oBAAf,UA9BJ0I,GACE,qBAAK1I,UAAU,mBAAf,SACE,mBAAGA,UAAU,OAAb,0BAIJ,qBACEA,UAAU,sBACVI,MAAO,CAAE+J,QAAS7B,EAAU,GAAK,QAFnC,0CAQA,qBACEtI,UAAU,qBACVI,MAAO,CAAE+J,QAAStD,EAAQ,GAAK,QAFjC,SAIGA,IA1FH,uBAAMM,SAAUJ,EAAhB,UACE,8CACA,qBAAK/G,UAAU,aAAf,SACE,uBAAOA,UAAU,oBAAjB,SACE,uBACEoE,SAAU3B,EAAa,SACvBvC,KAAK,OACLL,KAAK,QACLmO,OAAO,gBAIb,sBAAKhO,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,OAAf,kBACA,uBACEX,SAAU3B,EAAa,QACvBI,MAAOhD,EACPK,KAAK,OACLF,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,aAAf,yBACA,0BACEX,SAAU3B,EAAa,eACvBI,MAAOhC,EACPb,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,OAAf,mBACA,uBACEX,SAAU3B,EAAa,SACvBI,MAAOc,EACPzD,KAAK,SACLF,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,OAAf,sBACA,uBACEX,SAAU3B,EAAa,YACvBI,MAAOf,EACP5B,KAAK,SACLF,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,WAAf,sBACA,yBAAQX,SAAU3B,EAAa,YAAazC,UAAU,eAAtD,UACE,mDACCuE,GACCA,EAAWxB,KAAI,SAACqE,EAAGpE,GAAJ,OACb,wBAAoBH,MAAOuE,EAAExH,IAA7B,SACGwH,EAAEvH,MADQmD,YAMrB,sBAAKhD,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,WAAf,sBACA,yBAAQX,SAAU3B,EAAa,YAAazC,UAAU,eAAtD,UACE,mDACA,wBAAQ6C,MAAM,IAAd,gBACA,wBAAQA,MAAM,IAAd,uBAGJ,wBAAQ7C,UAAU,oBAAlB,oCAwCKiO,UC2CIC,GA7OO,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACvB,EAA4B/L,mBAAS,CACnCvC,KAAM,GACNgB,YAAa,GACb8C,MAAO,GACP7B,SAAU,GACV2L,SAAU,GACVC,MAAO,GACPnJ,WAAY,GACZX,SAAU,GACViD,MAAO,GACPyB,QAAS,GACTI,SAAS,EACTiF,mBAAmB,EACnBC,SAAU,KAbZ,mBAAO3B,EAAP,KAAeC,EAAf,KAgBErM,EAUEoM,EAVFpM,KACAgB,EASEoL,EATFpL,YACA8C,EAQEsI,EARFtI,MACA7B,EAOEmK,EAPFnK,SACAyC,EAME0H,EANF1H,WACAsC,EAKEoF,EALFpF,MACAyB,EAIE2D,EAJF3D,QACAI,EAGEuD,EAHFvD,QACAkF,EAEE3B,EAFF2B,SACAD,EACE1B,EADF0B,kBAIIS,EAAkC,WACtChJ,IAAgBwB,MAAK,SAAChB,GAChBA,EAAKiB,MACPqF,EAAU,2BAAKD,GAAN,IAAcpF,MAAOjB,EAAKiB,SAEnCqF,EAAU,CAAE3H,WAAYqB,EAAMgI,SAAU,IAAIC,eA2BlDlH,qBAAU,WAtBW,IAACjE,EAuBpB0L,IAvBoB1L,EAwBPyL,EAAMrI,OAAOpD,UAvB1B0D,EAAK1D,GAAWkE,MAAK,SAAChB,GAChBA,EAAKiB,MACPqF,EAAU,2BAAKD,GAAN,IAAcpF,MAAOjB,EAAKiB,UAGnCqF,EAAU,2BACLD,GADI,IAEPpM,KAAM+F,EAAK/F,KACXgB,YAAa+E,EAAK/E,YAClB8C,MAAOiC,EAAKjC,MACZC,SAAUgC,EAAKhC,SAAShE,IACxB6N,SAAU7H,EAAK6H,SACf3L,SAAU8D,EAAK9D,SACf8L,SAAU,IAAIC,YAGhBO,UASH,IAEH,MAA6BlP,IAArBoB,EAAR,EAAQA,UAAW4E,EAAnB,EAAmBA,MAEbzC,EAAe,SAAC5C,GAAD,OAAU,SAACiH,GAC9B,IAAMjE,EAAiB,UAAThD,EAAmBiH,EAAElE,OAAOkL,MAAM,GAAKhH,EAAElE,OAAOC,MAC9D+K,EAASG,IAAIlO,EAAMgD,GACnBqJ,EAAU,2BAAKD,GAAN,kBAAepM,EAAOgD,OAG3BkE,EAAe,SAACD,GACpBA,EAAEE,iBACFkF,EAAU,2BACLD,GADI,IAEPpF,MAAO,GACP6B,SAAS,KAEXrC,EAAc8H,EAAMrI,OAAOpD,UAAWpC,EAAUV,IAAKsF,EAAO0I,GAAUhH,MACpE,SAAChB,GACKA,EAAKiB,MACPqF,EAAU,2BACLD,GADI,IAEPpF,MAAOjB,EAAKiB,MACZyB,SAAS,EACTI,SAAS,KAGXwD,EAAU,2BACLD,GADI,IAEPpM,KAAM,GACNgB,YAAa,GACb8C,MAAO,GACP7B,SAAU,GACV2L,SAAU,GACVC,MAAO,GACPnJ,WAAY,GACZX,SAAU,GACViD,OAAO,EACP8G,mBAAmB,EACnBrF,SAAS,EACTI,SAAS,EACTkF,SAAU,UA8GpB,OACE,cAAC,EAAD,CACE5N,UAAU,iBACVY,MAAM,kBACNC,YAAW,cAASP,EAAUT,KAAnB,8BAHb,SAKE,qBAAKG,UAAU,MAAf,SACE,sBAAKA,UAAU,oBAAf,UArCJ0I,GACE,qBAAK1I,UAAU,mBAAf,SACE,mBAAGA,UAAU,OAAb,0BAIJ,qBACEA,UAAU,sBACVI,MAAO,CAAE+J,QAAS7B,EAAU,GAAK,QAFnC,0CAQA,qBACEtI,UAAU,qBACVI,MAAO,CAAE+J,QAAStD,EAAQ,GAAK,QAFjC,SAIGA,IA1FH,uBAAMM,SAAUJ,EAAhB,UACE,8CACA,qBAAK/G,UAAU,aAAf,SACE,uBAAOA,UAAU,oBAAjB,SACE,uBACEoE,SAAU3B,EAAa,SACvBvC,KAAK,OACLL,KAAK,QACLmO,OAAO,gBAIb,sBAAKhO,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,OAAf,kBACA,uBACEX,SAAU3B,EAAa,QACvBI,MAAOhD,EACPK,KAAK,OACLF,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,aAAf,yBACA,0BACEX,SAAU3B,EAAa,eACvBI,MAAOhC,EACPb,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,OAAf,mBACA,uBACEX,SAAU3B,EAAa,SACvBI,MAAOc,EACPzD,KAAK,SACLF,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,OAAf,sBACA,uBACEX,SAAU3B,EAAa,YACvBI,MAAOf,EACP5B,KAAK,SACLF,UAAU,oBAGd,sBAAKA,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,WAAf,sBACA,yBAAQX,SAAU3B,EAAa,YAAazC,UAAU,eAAtD,UACE,mDACCuE,GACCA,EAAWxB,KAAI,SAACqE,EAAGpE,GAAJ,OACb,wBAAoBH,MAAOuE,EAAExH,IAA7B,SACGwH,EAAEvH,MADQmD,YAMrB,sBAAKhD,UAAU,kBAAf,UACE,uBAAO+E,QAAQ,WAAf,sBACA,yBAAQX,SAAU3B,EAAa,YAAazC,UAAU,eAAtD,UACE,mDACA,wBAAQ6C,MAAM,IAAd,gBACA,wBAAQA,MAAM,IAAd,uBAGJ,wBAAQ7C,UAAU,2BAAlB,oCA+CKiO,EArBY,WACnB,GAAIN,IACG9G,EACH,OAAO,cAAC,IAAD,CAAU5G,GAAG,MAmBjBkM,WChLIkC,GAxDQ,SAACjN,GACtB,MAA8BgB,mBAAS,IAAvC,mBAAOL,EAAP,KAAgBuM,EAAhB,KACA,EAA4ClM,mBAAS,IAArD,mBAAOmM,EAAP,KAAuBC,EAAvB,KACA,EAA0BpM,oBAAS,GAAnC,mBAAc2I,GAAd,WA0BA,OANApE,qBAAU,YAlBiB,SAACjE,GAC1B0D,EAAK1D,GAAWkE,MAAK,SAAChB,GAChBA,EAAKiB,MACPkE,EAASnF,EAAKiB,QAEdyH,EAAW1I,GAEXK,EAAYL,EAAKhG,KAAKgH,MAAK,SAAChB,GACtBA,EAAKiB,MACPkE,EAASnF,EAAKiB,OAEd2H,EAAkB5I,UAS1B6I,CADsBrN,EAAM+M,MAAMrI,OAA1BpD,aAGP,CAACtB,IAGF,cAAC,EAAD,CACER,MAAOmB,EAAQlC,KACfgB,YACEkB,GAAWA,EAAQlB,aAAekB,EAAQlB,YAAY6C,UAAU,EAAG,KAErE1D,UAAU,YALZ,SAOE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACG+B,GAAWA,EAAQlB,aAClB,cAAC,EAAD,CAASkB,QAASA,EAASE,uBAAuB,MAGtD,sBAAKjC,UAAU,WAAf,UACE,kDACCuO,EAAexL,KAAI,SAAChB,EAASsF,GAAV,OAClB,qBAAKrH,UAAU,OAAf,SACE,cAAC,EAAD,CAAiB+B,QAASA,GAAZsF,iBCKbqH,GApDF,WACX,MAA0BtM,mBAAS,IAAnC,mBAAOuM,EAAP,KAAcC,EAAd,KAEAjI,qBAAU,WACRiI,EzBuBoB,qBAAX7P,QACLC,aAAaG,QAAQ,QAChBb,KAAKc,MAAMJ,aAAaG,QAAQ,SAGpC,MyB3BJ,IA4BH,OACE,cAAC,EAAD,CACEyB,MAAM,gBACNC,YAAY,oEACZb,UAAU,YAHZ,SAKE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACG2O,EAAMtO,OAAS,EAhCpB,gCACE,oBAAGL,UAAU,OAAb,qCAAsC2O,EAAMtO,QAA5C,cACA,uBACCsO,EAAM5L,KAAI,SAACtB,EAAMuB,GAAP,OACT,cAAC,EAAD,CAEEjB,QAASN,EACTO,YAAY,EACZE,qBAAqB,EACrBC,yBAAyB,GAJpBa,cAcR,MAeD,sBAAKhD,UAAU,WAAf,UACE,oBAAIA,UAAU,OAAd,2BACA,uBACA,cAAC,GAAD,CAAUqI,SAAUsG,aCoFfE,GAhIA,WACb,MAA4BzM,mBAAS,IAArC,mBAAO0M,EAAP,KAAeC,EAAf,KACA,EAAwC3M,mBAAS,IAAjD,mBAAO4M,EAAP,KAAqBC,EAArB,KACA,EAGI/P,IAHJ,IACEoB,UAAaV,EADf,EACeA,IAAKC,EADpB,EACoBA,KAClBqF,EAFF,EAEEA,MAGIgK,EAAa,WACjBnH,GAAWnI,EAAKsF,GAAO0B,MAAK,SAAChB,GACvBA,EAAKiB,MACPnI,QAAQC,IAAIiH,EAAKiB,OAEjBkI,EAAUnJ,OAahBe,qBAAU,WACRuI,IATAlH,GAAiBpI,EAAKsF,GAAO0B,MAAK,SAAChB,GAC7BA,EAAKiB,MACPnI,QAAQC,IAAIiH,EAAKiB,OAEjBoI,EAAgBrJ,QAOnB,IACH,IAkBMuJ,EAAY,SAAC5D,EAAK1I,GAAN,OAChB,sBAAK7C,UAAU,2BAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,qBAAKA,UAAU,mBAAf,SAAmCuL,MAErC,uBAAOrL,KAAK,OAAO2C,MAAOA,EAAO7C,UAAU,eAAeoP,UAAQ,QAGhEC,EAAa,SAACvH,GAAD,OACjB,sBAAK9H,UAAU,aAAf,UACE,qBAAIA,UAAU,YAAd,oBAAkC8H,EAAMK,UACxC,yBACEnI,UAAU,eACVoE,SAAU,SAAC0C,GAAD,OA/BW,SAACA,EAAGoB,GAC7BD,GAAkBrI,EAAKsF,EAAOgD,EAASpB,EAAElE,OAAOC,OAAO+D,MAAK,SAAChB,GACvDA,EAAKiB,MACPnI,QAAQC,IAAI,wBAEZuQ,OA0BiBI,CAAmBxI,EAAGgB,EAAMlI,MAF/C,UAIE,mDACCoP,EAAajM,KAAI,SAACoF,EAAQnF,GAAT,OAChB,wBAAoBH,MAAOsF,EAA3B,SACGA,GADUnF,aAOrB,OACE,cAAC,EAAD,CACEhD,UAAU,aACVY,MAAM,SACNC,YAAW,cAAShB,EAAT,wCAHb,SAKE,qBAAKG,UAAU,MAAf,SACE,sBAAKA,UAAU,uBAAf,UAvCA8O,EAAOzO,OAAS,EAEhB,qBAAIL,UAAU,wBAAd,0BAAoD8O,EAAOzO,UAGtD,oBAAIL,UAAU,cAAd,uBAoCF8O,EAAO/L,KAAI,SAAC+E,EAAOT,GAClB,OACE,sBACErH,UAAU,OAEVI,MAAO,CAAEmP,aAAc,oBAHzB,UAKE,qBAAIvP,UAAU,aAAd,sBAAqC8H,EAAMlI,OAC3C,qBAAII,UAAU,kBAAd,UACE,qBAAIA,UAAU,kBAAd,qBACWqP,EAAWvH,MAEtB,qBAAI9H,UAAU,kBAAd,6BACmB8H,EAAMgC,kBAGzB,qBAAI9J,UAAU,kBAAd,+BACqB8H,EAAMW,WAE3B,qBAAIzI,UAAU,kBAAd,yBACe6D,IAAOiE,EAAMhE,WAAWC,gBAGzC,qBAAI/D,UAAU,wBAAd,yCAC+B8H,EAAMO,SAAShI,UAE7CyH,EAAMO,SAAStF,KAAI,SAAChB,EAASgL,GAAV,OAClB,sBACE/M,UAAU,OAEVI,MAAO,CAAEoP,QAAS,OAAQjI,OAAQ,wBAHpC,UAKG4H,EAAU,eAAgBpN,EAAQlC,MAClCsP,EAAU,gBAAiBpN,EAAQ4B,OACnCwL,EAAU,gBAAiBpN,EAAQQ,OACnC4M,EAAU,aAAcpN,EAAQnC,OAN5BmN,QAzBJ1F,cCyBNoI,GA/GC,SAAC,GAAe,IAAbtB,EAAY,EAAZA,MACjB,EAA4B/L,mBAAS,CACnCvC,KAAM,GACNkM,MAAO,GACPC,SAAU,GACVnF,OAAO,EACPyB,SAAS,IALX,mBAAO2D,EAAP,KAAeC,EAAf,KAOQrM,EAAmCoM,EAAnCpM,KAAMkM,EAA6BE,EAA7BF,MAAOC,EAAsBC,EAAtBD,SAAU1D,EAAY2D,EAAZ3D,QACvBpD,EAAUhG,IAAVgG,MAgBRyB,qBAAU,WAdW,IAAC1B,IAePkJ,EAAMrI,OAAOb,OAd1BmB,GAAKnB,EAAQC,GAAO0B,MAAK,SAAChB,GACpBA,EAAKiB,MACPqF,EAAU,2BAAKD,GAAN,IAAcpF,OAAO,KAE9BqF,EAAU,2BACLD,GADI,IAEPpM,KAAM+F,EAAK/F,KACXkM,MAAOnG,EAAKmG,cASjB,IAEH,IAAMtJ,EAAe,SAAC5C,GAAD,OAAU,SAACiH,GAC9BoF,EAAU,2BAAKD,GAAN,gBAAcpF,OAAO,GAAQhH,EAAOiH,EAAElE,OAAOC,WAGlDkE,EAAe,SAACD,GACpBA,EAAEE,iBACFyF,GAAO0B,EAAMrI,OAAOb,OAAQC,EAAO,CAAErF,OAAMkM,QAAOC,aAAYpF,MAC5D,SAAChB,GACKA,EAAKiB,MACPqF,EAAU,2BAAKD,GAAN,IAAcpF,OAAO,KTPd,SAAC9I,EAAMe,GAC/B,IACE,GAAsB,qBAAXC,QACLC,aAAaG,QAAQ,OAAQ,CAC/B,IAAIuQ,EAAOpR,KAAKc,MAAMJ,aAAaG,QAAQ,QAC3CuQ,EAAKpP,UAAYvC,EACjBiB,aAAaiE,QAAQ,MAAO3E,KAAKC,UAAUmR,IAC3C5Q,KAGJ,MAAO+H,GACPnI,QAAQC,IAAIkI,ISFN8I,CAAW/J,GAAM,WACfsG,EAAU,2BACLD,GADI,IAEPpM,KAAM+F,EAAK/F,KACXkM,MAAOnG,EAAKmG,MACZzD,SAAS,YAsDrB,OACE,eAAC,EAAD,CACE1H,MAAM,UACNC,YAAY,sBACZb,UAAU,YAHZ,UA3CoB,SAACH,EAAMkM,EAAOC,GAAd,OACpB,iCACE,sBAAKhM,UAAU,aAAf,UACE,uBAAO+E,QAAQ,OAAO/E,UAAU,aAAhC,kBAGA,uBACEE,KAAK,OACLkE,SAAU3B,EAAa,QACvBI,MAAOhD,EACPG,UAAU,oBAId,sBAAKA,UAAU,aAAf,UACE,uBAAO+E,QAAQ,QAAQ/E,UAAU,aAAjC,mBAGA,uBACEE,KAAK,QACLkE,SAAU3B,EAAa,SACvBI,MAAOkJ,EACP/L,UAAU,oBAGd,sBAAKA,UAAU,aAAf,UACE,uBAAO+E,QAAQ,WAAW/E,UAAU,aAApC,sBAGA,uBACEE,KAAK,WACLkE,SAAU3B,EAAa,YACvBI,MAAOmJ,EACPhM,UAAU,oBAGd,wBAAQS,QAASsG,EAAc/G,UAAU,yBAAzC,uBAYC4P,CAAc/P,EAAMkM,EAAOC,GArDX,SAAC1D,GACpB,GAAIA,EACF,OAAO,cAAC,IAAD,CAAUrI,GAAG,UAoDnBkM,CAAa7D,OCtCLuH,GArEQ,WACrB,MAAgCzN,mBAAS,IAAzC,mBAAOiG,EAAP,KAAiByH,EAAjB,KACA,EAGI5Q,IAFWU,EADf,EACEU,UAAaV,IACbsF,EAFF,EAEEA,MAGI6K,EAAgB,WACpB7J,IAAcU,MAAK,SAAChB,GACdA,EAAKiB,MACPnI,QAAQC,IAAIiH,EAAKiB,OAEjBiJ,EAAYlK,OAoBlB,OAJAe,qBAAU,WACRoJ,MACC,IAGD,cAAC,EAAD,CACEnP,MAAM,kBACNC,YAAY,0BACZb,UAAU,YAHZ,SAKE,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,YAAf,UACE,oBAAGA,UAAU,OAAb,oBAA4BqI,EAAShI,OAArC,gBACA,oBAAIL,UAAU,aAAd,SACGqI,EAAStF,KAAI,SAAChB,EAASgL,GAAV,OACZ,qBAEE/M,UAAU,oEAFZ,UAIE,iCAAS+B,EAAQlC,OACjB,sBAAKG,UAAU,wDAAf,UACE,cAAC,IAAD,CAAMC,GAAE,gCAA2B8B,EAAQnC,KAA3C,SACE,sBAAMI,UAAU,yBAAhB,sBAEF,sBACES,QAAS,kBArCNiC,EAqC0BX,EAAQnC,SApCvDuG,EAAczD,EAAW9C,EAAKsF,GAAO0B,MAAK,SAAChB,GACrCA,EAAKiB,MACPnI,QAAQC,IAAIiH,EAAKiB,OAGjBkJ,OANgB,IAACrN,GAsCH1C,UAAU,6BAFZ,wBARG+M,kBC/BViD,GAAS,WACpB,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAAC1Q,KAAK,IAAI0B,UAAWwK,KACjC,cAAC,IAAD,CAAOwE,OAAK,EAAC1Q,KAAK,QAAQ0B,UAAWqJ,KACrC,cAAC,IAAD,CAAO2F,OAAK,EAAC1Q,KAAK,UAAU0B,UAAW6K,KACvC,cAAC,IAAD,CAAOmE,OAAK,EAAC1Q,KAAK,UAAU0B,UAAWoL,KACvC,cAAC,EAAD,CAAc4D,OAAK,EAAC1Q,KAAK,kBAAkB0B,UAAW0L,KACtD,cAAC,EAAD,CAAcsD,OAAK,EAAC1Q,KAAK,mBAAmB0B,UAAW+L,KACvD,cAAC,IAAD,CAAOiD,OAAK,EAAC1Q,KAAK,uBAAuB0B,UAAWoN,KACpD,cAAC,IAAD,CAAO4B,OAAK,EAAC1Q,KAAK,QAAQ0B,UAAWyN,KAErC,cAAC,EAAD,CACEuB,OAAK,EACL1Q,KAAK,yBACL0B,UAAWgM,KAEb,cAAC,EAAD,CACEgD,OAAK,EACL1Q,KAAK,wBACL0B,UAAWuM,KAEb,cAAC,EAAD,CAAYyC,OAAK,EAAC1Q,KAAK,kBAAkB0B,UAAW4O,KACpD,cAAC,EAAD,CACEI,OAAK,EACL1Q,KAAK,mCACL0B,UAAWiN,KAEb,cAAC,EAAD,CAAY+B,OAAK,EAAC1Q,KAAK,gBAAgB0B,UAAW4N,KAClD,cAAC,EAAD,CAAcoB,OAAK,EAAC1Q,KAAK,mBAAmB0B,UAAWwO,SClC9CS,OAVf,WACE,OACE,8BACE,cAAC,IAAD,UACE,cAAC,GAAD,S,MCDRC,IAAShP,OACP,cAAC,IAAMiP,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.c0ed3ac5.chunk.js","sourcesContent":["export const API = 'http://localhost:8900/api/v1';\n","import { API } from 'config';\n\nexport const signup = async (user) => {\n  try {\n    const res = await fetch(`${API}/signup`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(user),\n    });\n    return await res.json();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const signin = async (user) => {\n  try {\n    const res = await fetch(`${API}/signin`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(user),\n    });\n    return await res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// save logedin user to localstorage\nexport const authenticate = (data, next) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(data));\n    next();\n  }\n};\n\nexport const signout = async (next) => {\n  // remove token from LS\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('jwt');\n    next();\n    // make request to the api\n    try {\n      const res = await fetch(`${API}/signout`, {\n        method: 'GET',\n      });\n      if (res) {\n        console.log('Signout successfull!');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n\nexport const isAuthenticated = () => {\n  if (typeof window == 'undefined') {\n    return false;\n  }\n  if (localStorage.getItem('jwt')) {\n    return JSON.parse(localStorage.getItem('jwt'));\n  } else {\n    return false;\n  }\n};\n","export const isActive = (history, path) => {\n  if (history.location.pathname === path) {\n    return { color: '#ff9900' };\n  }\n  return { color: '#fff' };\n};\n\nexport const prices = [\n  {\n    _id: 0,\n    name: 'Any',\n    array: [],\n  },\n  {\n    _id: 1,\n    name: '$0 to $9',\n    array: [0, 9],\n  },\n  {\n    _id: 2,\n    name: '$10 to $19',\n    array: [10, 19],\n  },\n  {\n    _id: 3,\n    name: '$20 to $29',\n    array: [20, 29],\n  },\n  {\n    _id: 4,\n    name: '$30 to $39',\n    array: [20, 29],\n  },\n  {\n    _id: 5,\n    name: 'More than $40',\n    array: [40, 99],\n  },\n];\n","import { isAuthenticated, signout } from 'api/auth';\nimport { itemTotal } from 'components/Cart/CartHelpers';\nimport React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { isActive } from 'utils';\n\nfunction Navbar({ history }) {\n  return (\n    <nav className='navbar navbar-expand-lg navbar-dark bg-primary'>\n      <div className='container'>\n        <Link className='navbar-brand' to='/'>\n          Shoppers\n        </Link>\n        <button\n          className='navbar-toggler'\n          type='button'\n          data-bs-toggle='collapse'\n          data-bs-target='#navbarNavDropdown'\n          aria-controls='navbarNavDropdown'\n          aria-expanded='false'\n          aria-label='Toggle navigation'\n        >\n          <span className='navbar-toggler-icon'></span>\n        </button>\n        <div className='collapse navbar-collapse' id='navbarNavDropdown'>\n          <ul className='navbar-nav ms-auto'>\n            <li className='nav-item'>\n              <Link\n                className='nav-link active'\n                aria-current='page'\n                to='/'\n                style={isActive(history, '/')}\n              >\n                Home\n              </Link>\n            </li>\n            <li className='nav-item'>\n              <Link\n                className='nav-link active'\n                aria-current='page'\n                to='/shop'\n                style={isActive(history, '/shop')}\n              >\n                Shop\n              </Link>\n            </li>\n            <li className='nav-item'>\n              <Link\n                className='nav-link active'\n                aria-current='page'\n                to='/cart'\n                style={isActive(history, '/cart')}\n              >\n                Cart <span className='badge bg-secondary'>{itemTotal()}</span>\n              </Link>\n            </li>\n\n            {isAuthenticated() && isAuthenticated().foundUser.role === 0 && (\n              <li className='nav-item'>\n                <Link\n                  className='nav-link active'\n                  aria-current='page'\n                  to='/user/dashboard'\n                  style={isActive(history, '/user/dashboard')}\n                >\n                  Dashboard\n                </Link>\n              </li>\n            )}\n            {isAuthenticated() && isAuthenticated().foundUser.role === 1 && (\n              <li className='nav-item'>\n                <Link\n                  className='nav-link active'\n                  aria-current='page'\n                  to='/admin/dashboard'\n                  style={isActive(history, '/admin/dashboard')}\n                >\n                  Dashboard\n                </Link>\n              </li>\n            )}\n            {!isAuthenticated() && (\n              <>\n                <li className='nav-item'>\n                  <Link\n                    className='nav-link'\n                    to='/signup'\n                    style={isActive(history, '/signup')}\n                  >\n                    Sign up\n                  </Link>\n                </li>\n                <li className='nav-item'>\n                  <Link\n                    className='nav-link'\n                    to='/signin'\n                    style={isActive(history, '/signin')}\n                  >\n                    Sign in\n                  </Link>\n                </li>\n              </>\n            )}\n            {isAuthenticated() && (\n              <>\n                <li className='nav-item'>\n                  <span\n                    className='nav-link'\n                    style={{ cursor: 'pointer', color: '#fff' }}\n                    onClick={() => signout(() => history.push('/'))}\n                  >\n                    Sign out\n                  </span>\n                </li>\n              </>\n            )}\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default withRouter(Navbar);\n","export const addProductToCart = (item, next) => {\n  let cart = [];\n  if (typeof window !== 'undefined') {\n    // check if we have the cart in the ls\n    if (localStorage.getItem('cart')) {\n      cart = JSON.parse(localStorage.getItem('cart'));\n    }\n    // Add item to cart\n    cart.push({\n      ...item,\n      count: 1,\n    });\n    // avoid duplicate items\n    cart = Array.from(new Set(cart.map((p) => p._id))).map((id) => {\n      return cart.find((p) => p._id === id);\n    });\n    // set cart back to LS\n    localStorage.setItem('cart', JSON.stringify(cart));\n    next();\n  }\n};\n\nexport const itemTotal = () => {\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      return JSON.parse(localStorage.getItem('cart')).length;\n    }\n  }\n  return 0;\n};\n\nexport const getCart = () => {\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      return JSON.parse(localStorage.getItem('cart'));\n    }\n  }\n  return [];\n};\n\nexport const updateItem = (productId, count) => {\n  let cart = [];\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      cart = JSON.parse(localStorage.getItem('cart'));\n    }\n    cart.map((product, index) => {\n      if (product._id === productId) {\n        cart[index].count = count;\n      }\n      return product;\n    });\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n};\nexport const removeItem = (productId) => {\n  let cart = [];\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('cart')) {\n      cart = JSON.parse(localStorage.getItem('cart'));\n    }\n    cart.map((product, index) => {\n      if (product._id === productId) {\n        cart.splice(index, 1);\n      }\n      return cart;\n    });\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n  return cart;\n};\n\nexport const emptyCart = (next) => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('cart');\n    next();\n  }\n};\n","import Navbar from 'components/Navbar';\n\nconst Layout = ({\n  title = 'Title',\n  description = 'Description',\n  className,\n  children,\n}) => {\n  return (\n    <>\n      <Navbar />\n      <div className='rounded-lg bg-light p-5 mb-5'>\n        <div className='container'>\n          <h2>{title}</h2>\n          <p className='lead'>{description}</p>\n        </div>\n      </div>\n      <div className={className}>{children}</div>\n    </>\n  );\n};\nexport default Layout;\n","import { isAuthenticated } from 'api/auth';\nimport { Redirect, Route } from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        isAuthenticated() ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/signin',\n              state: { from: props.location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\nexport default PrivateRoute;\n","import { isAuthenticated } from 'api/auth';\nimport { Redirect, Route } from 'react-router-dom';\n\nconst AdminRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        isAuthenticated() && isAuthenticated().foundUser.role ===1 ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/signin',\n              state: { from: props.location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\nexport default AdminRoute;\n","import { API } from 'config';\nimport React from 'react';\n\nconst ProductImage = ({ item, url }) => {\n  return (\n    <div className='product-img'>\n      <img\n        src={`${API}/${url}/photo/${item._id}`}\n        alt={item.name}\n        className='mb-3 card-img-top'\n      />\n    </div>\n  );\n};\n\nexport default ProductImage;\n","import ProductImage from 'components/ProductImage';\nimport React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport moment from 'moment';\nimport {\n  addProductToCart,\n  updateItem,\n  removeItem,\n} from 'components/Cart/CartHelpers';\n\nconst Product = ({\n  product,\n  cartUpdate = false,\n  showViewProductButton = true,\n  showAddToCartButton = true,\n  showRemoveProductButton = false,\n}) => {\n  const [redirect, setRedirect] = useState(false);\n  const [count, setCount] = useState(product.count);\n\n  const showViewButton = (showViewProductButton) => {\n    return (\n      showViewProductButton && (\n        <Link to={`/products/${product._id}`}>\n          <button className='btn btn-success btn-sm  mt-2 mb-2'>\n            View Details\n          </button>\n        </Link>\n      )\n    );\n  };\n  const showRemoveButton = (showRemoveProductButton) => {\n    return (\n      showRemoveProductButton && (\n        <button\n          onClick={() => removeItem(product._id)}\n          className='btn btn-danger btn-sm  mt-2 mb-2'\n        >\n          Remove Product\n        </button>\n      )\n    );\n  };\n  const showAddToCart = (showAddToCartButton) => {\n    return (\n      showAddToCartButton && (\n        <button\n          onClick={addToCart}\n          className='btn btn-sm btn-dark mt-2 mb-2 mr-2'\n        >\n          Add to cart{' '}\n        </button>\n      )\n    );\n  };\n  const handleChange = (productId) => (event) => {\n    setCount(event.target.value < 1 ? 1 : event.target.value);\n    if (event.target.value >= 1) {\n      updateItem(productId, event.target.value);\n    }\n  };\n  const showCardUpdateOptions = (cartUpdate) => {\n    return (\n      cartUpdate && (\n        <div>\n          <div className='input-group mb-3'>\n            <div className='input-group-prepend'>\n              <span className='input-group-text'>Adjust quantity</span>\n            </div>\n            <input\n              value={count}\n              onChange={handleChange(product._id)}\n              type='number'\n              className='form-control'\n              name=''\n            />\n          </div>\n        </div>\n      )\n    );\n  };\n  const showStock = (quantity) => {\n    return quantity > 0 ? (\n      <span className='badge badge-success badge-pill'>In Stock</span>\n    ) : (\n      <span className='badge badge-danger badge-pill'>Out of Stock</span>\n    );\n  };\n  const addToCart = () => {\n    addProductToCart(product, () => {\n      setRedirect(true);\n    });\n  };\n\n  const shouldRedirect = () => {\n    if (redirect) {\n      return <Redirect to='/cart' />;\n    }\n  };\n\n  return (\n    <div className='card'>\n      <div className='card-header name'>{product.name}</div>\n      <div className='card-body'>\n        {shouldRedirect(redirect)}\n        <ProductImage item={product} url='product' />\n        <p className='card-text lead'>{product.description.substring(0, 50)}</p>\n        <p className='card-text black-10'>$ {product.price}</p>\n        <div className=''>\n          <span className='mr-2 block'>Category</span>\n          <span className='badge bg-light text-dark'>\n            {product.category && product.category.name}\n          </span>\n        </div>\n        <p className='black-8 my-2'>\n          Added {moment(product.createdAt).fromNow()}\n        </p>\n        <div>{showStock(product.quantity)}</div>\n        {showAddToCart(showAddToCartButton)}\n        {showViewButton(showViewProductButton)}\n        {showRemoveButton(showRemoveProductButton)}\n        {showCardUpdateOptions(cartUpdate)}\n      </div>\n    </div>\n  );\n};\n\nexport default Product;\n","import { useState } from 'react';\n\nexport default function Checkbox({ categories, handleFilters }) {\n  const [checked, setChecked] = useState([]);\n\n  const handleToggle = (category) => () => {\n    //   check if category is already in the state checked\n    const currentCategoryId = checked.indexOf(category); // return 1st index or -1 if not found\n    const newCheckedCategoryId = [...checked];\n    // if currently checked was not already in checked state -> push\n    // else pull/take off\n    if (currentCategoryId === -1) {\n      newCheckedCategoryId.push(category);\n    } else {\n      // uncheck\n      newCheckedCategoryId.splice(currentCategoryId, 1);\n    }\n    // update state\n    setChecked(newCheckedCategoryId);\n    // send array of category ids to parent component\n    handleFilters(newCheckedCategoryId);\n  };\n\n  return (\n    <>\n      {categories.map((category) => (\n        <li key={category.name} className='list-unstyled checkbox-list'>\n          <input\n            onChange={handleToggle(category._id)}\n            value={checked.indexOf(category._id === -1)}\n            type='checkbox'\n            className='form-check-input me-2'\n          />\n          <label htmlFor='' className='form-check-label'>\n            {category.name}\n          </label>\n        </li>\n      ))}\n    </>\n  );\n}\n","import { API } from \"config\";\n\nexport const createCategory = async (userId, token, category) => {\n  try {\n    const res = await fetch(`${API}/category/create/${userId}`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(category),\n    });\n\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getCategories = async () => {\n  try {\n    const res = await fetch(`${API}/categories`, { method: 'GET' });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { API } from 'config';\nimport queryString from 'query-string';\n\nexport const createProduct = async (userId, token, product) => {\n  try {\n    const res = await fetch(`${API}/products/create/${userId}`, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n\n      body: product,\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchAllProducts = async (sortBy) => {\n  try {\n    const res = await fetch(\n      `${API}/products?sortBy=${sortBy}&order=desc&limit=6`,\n      {\n        method: 'GET',\n      }\n    );\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchFilteredProducts = async (skip, limit, filters = {}) => {\n  const data = { skip, limit, filters };\n  try {\n    const res = await fetch(`${API}/products/by/search`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const list = async (params) => {\n  try {\n    const query = queryString.stringify(params);\n    const res = await fetch(`${API}/products/search?${query}`, {\n      method: 'GET',\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const listRelated = async (productId) => {\n  try {\n    const res = await fetch(`${API}/products/related/${productId}`, {\n      method: 'GET',\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// ADMIN PRODUCT CRUD Operations\n\n// get all products\nexport const getProducts = async () => {\n  try {\n    const res = await fetch('${API}/products?limit=undefined', {\n      method: 'GET',\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// Delete product\nexport const deleteProduct = async (productId, userId, token) => {\n  try {\n    const res = await fetch(`${API}/products/${productId}/${userId}`, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// get single product\nexport const read = async (id) => {\n  try {\n    const res = await fetch(`${API}/products/${id}`, {\n      method: 'GET',\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n// update product\nexport const updateProduct = async (productId, userId, token, product) => {\n  try {\n    const res = await fetch(`${API}/products/${productId}/${userId}`, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      // product is form data\n      body: product,\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { getCategories } from 'api/category';\nimport { list } from 'api/product';\nimport Product from 'components/Product';\nimport { useEffect, useState } from 'react';\n\nexport default function Search() {\n  const [data, setData] = useState({\n    categories: [],\n    category: '',\n    search: '',\n    results: [],\n    searched: false,\n  });\n\n  const { categories, category, search, results, searched } = data;\n\n  const loadCategories = () => {\n    getCategories().then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setData({ ...data, categories: data });\n      }\n    });\n  };\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const handleChange = (name) => (e) => {\n    setData({\n      ...data,\n      [name]: e.target.value,\n      searched: false,\n    });\n  };\n  const searchedProducts = (results = []) => {\n    return (\n      <>\n        <div className='mb-4 mt-4'>{searchMessage(searched, results)}</div>\n        <div className='row'>\n          {results.map((product, i) => (\n            <Product key={i} product={product} />\n          ))}\n        </div>\n      </>\n    );\n  };\n  const searchedData = () => {\n    if (search) {\n      list({ search: search || undefined, category }).then((res) => {\n        if (res.error) {\n          console.log(res.error);\n        } else {\n          setData({ ...data, results: res, searched: true });\n        }\n      });\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    searchedData();\n  };\n  const searchMessage = (searched, results) => {\n    if (searched && results.length > 0) {\n      return `Found ${results.length} products`;\n    }\n    if (searched && results.length < 1) {\n      return 'No products found';\n    }\n  };\n  const searchForm = () => (\n    <form onSubmit={handleSubmit} className='mb-3'>\n      <span className='input-group-text'>\n        <div className='input-group input-group-lg'>\n          <div className='input-group-prepend'>\n            <select className='btn m-2' onChange={handleChange('category')}>\n              <option value='All'>All</option>\n              {categories.map((c, i) => (\n                <option key={i} value={c._id}>\n                  {c.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <input\n            type='search'\n            className='form-control'\n            onChange={handleChange('search')}\n            placeholder='Search by name'\n          />\n        </div>\n        <div className='btn input-group-append' style={{ border: 'none' }}>\n          <button className='input-group-text'>Search</button>\n        </div>\n      </span>\n    </form>\n  );\n  return (\n    <div>\n      <div className='row'>\n        <div className='container'>\n          {searchForm()}\n          {searchedProducts(results)}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { API } from \"config\";\n\nexport const getBraintreeClientToken = async (userId, token) => {\n  try {\n    const res = await fetch(`${API}/braintree/get-token/${userId}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const processPayment = async (userId, token, paymentData) => {\n  try {\n    const res = await fetch(`${API}/braintree/payment/${userId}`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(paymentData),\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { API } from \"config\";\n\nexport const createOrder = async (userId, token, createOrderData) => {\n  try {\n    const res = await fetch(`${API}/order/create/${userId}`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({ order: createOrderData }),\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n// Admin role\nexport const listOrders = async (userId, token) => {\n  try {\n    const res = await fetch(`${API}/order/list/${userId}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getPaymentStatus = async (userId, token) => {\n  try {\n    const res = await fetch(`${API}/order/status-values/${userId}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const updateOrderStatus = async (userId, token, orderId, status) => {\n  try {\n    const res = await fetch(`${API}/order/${orderId}/status/${userId}`, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({ status, orderId }),\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { useEffect, useState } from 'react';\nimport 'braintree-web';\nimport DropIn from 'braintree-web-drop-in-react';\nimport { isAuthenticated } from 'api/auth';\nimport { Link } from 'react-router-dom';\nimport { getBraintreeClientToken, processPayment } from '../../api/braintree';\nimport { emptyCart } from 'components/Cart/CartHelpers';\nimport { createOrder } from 'api/order';\n\nconst Checkout = ({ products }) => {\n  const [data, setData] = useState({\n    success: false,\n    clientToken: null,\n    error: '',\n    instance: {},\n    address: '',\n    loading: false,\n  });\n  const userId = isAuthenticated() && isAuthenticated().foundUser._id;\n  const token = isAuthenticated() && isAuthenticated().token;\n\n  const getToken = (userId, token) => {\n    getBraintreeClientToken(userId, token).then((data) => {\n      if (data.error) {\n        setData({ ...data, error: data.error });\n      } else {\n        setData({ clientToken: data.clientToken });\n      }\n    });\n  };\n  useEffect(() => {\n    getToken(userId, token);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleAddress = (event) => {\n    setData({ ...data, address: event.target.value });\n  };\n\n  const getTotal = () => {\n    return products.reduce((currentValue, nextValue) => {\n      return currentValue + nextValue.count * nextValue.price;\n    }, 0);\n  };\n  const showCheckout = () => {\n    return isAuthenticated() ? (\n      <div>{showDropIn()}</div>\n    ) : (\n      <Link to='/signin'>\n        <button className='btn btn-warning btn-sm'>Sign in to checkout</button>\n      </Link>\n    );\n  };\n  const showDropIn = () => (\n    <div onBlur={() => setData({ ...data, error: '' })}>\n      {data.clientToken !== null && products.length > 0 ? (\n        <div>\n          <div className='form-group mb-3'>\n            <label className='text-muted'>Delivery address:</label>\n            <textarea\n              onChange={handleAddress}\n              className='form-control'\n              value={data.address}\n              placeholder='Type your delivery address here...'\n            />\n          </div>\n          <DropIn\n            options={{\n              authorization: data.clientToken,\n              paypal: {\n                flow: 'vault',\n              },\n            }}\n            onInstance={(instance) => (data.instance = instance)}\n          />\n          <button onClick={buy} className='btn btn-sm btn-danger'>\n            Confirm\n          </button>\n        </div>\n      ) : null}\n    </div>\n  );\n  let deliveryAddress = data.address;\n  const buy = () => {\n    setData({ loading: true });\n    // send nonce to the server\n    // nonce=data.instance.requestPaymentMethod()\n\n    let nonce;\n    let getNonce = data.instance\n      .requestPaymentMethod()\n      .then((data) => {\n        nonce = data.nonce;\n        // once we have nonce(cardType, cardNumber etc), send nonce as 'paymentMethodNonce' to backend and the total to be charged\n        const paymentData = {\n          paymentMethodNonce: nonce,\n          amount: getTotal(products),\n        };\n        processPayment(userId, token, paymentData)\n          .then((res) => {\n            setData({ ...data, success: res.success });\n            // then create order\n            const createOrderData = {\n              products: products,\n              transaction_id: res.transaction_id,\n              amount: res.transaction.amount,\n              address: deliveryAddress,\n            };\n            createOrder(userId, token, createOrderData)\n              .then((res) => {\n                // empty cart\n                emptyCart(() => {\n                  console.log('Payment complete. Empty cart');\n                  setData({ loading: false, success: true });\n                });\n              })\n              .catch((err) => {\n                console.log(err);\n                setData({ loading: false });\n              });\n          })\n          .catch((err) => {\n            console.log(err);\n            setData({ loading: false });\n          });\n      })\n      .catch((error) => {\n        setData({ ...data, error: error.message });\n      });\n  };\n  const showLoading = (loading) =>\n    loading && <p className='lead'>Loading...</p>;\n  const showError = (error) => (\n    <div\n      className='alert alert-danger'\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n  const showMsg = (success) => (\n    <div\n      className='alert alert-success'\n      style={{ display: success ? '' : 'none' }}\n    >\n      Thanks! Your payment was successfull!\n    </div>\n  );\n  return (\n    <div>\n      <p className='lead'>Total: ${getTotal()}</p>\n      {showLoading(data.loading)}\n      {showError(data.error)}\n      {showMsg(data.success)}\n      {showCheckout()}\n    </div>\n  );\n};\n\nexport default Checkout;\n","import { useState } from 'react';\n\nexport default function RadioBox({ prices, handleFilters }) {\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event) => {\n    handleFilters(event.target.value);\n    setValue(event.target.value);\n  };\n\n  return (\n    <>\n      {prices.map((price, index) => (\n        <div key={index}>\n          <input\n            onChange={handleChange}\n            value={`${price._id}`}\n            name={price}\n            type='radio'\n            className='form-check-input'\n          />\n          <label htmlFor='name' className='form-check-label'>\n            {price.name}\n          </label>\n        </div>\n      ))}\n    </>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { getCategories } from 'api/category';\nimport Layout from 'components/Layout';\nimport Product from 'components/Product';\nimport Checkbox from 'components/Checkbox';\nimport RadioBox from 'components/RadioBox';\nimport { prices } from 'utils';\nimport { fetchFilteredProducts } from 'api/product';\n\nexport default function Shop() {\n  const [categories, setCategories] = useState([]);\n  const [myFilters, setMyFilters] = useState({\n    filters: { category: [], price: [] },\n  });\n  const [limit, setLimit] = useState(6);\n  const [skip, setSkip] = useState(0);\n  const [size, setSize] = useState(0);\n  const [filteredResults, setFilteredResults] = useState([]);\n  const [error, setError] = useState(false);\n\n  //   load categories from the api\n  const fetchCategories = () => {\n    getCategories().then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setCategories(data);\n      }\n    });\n  };\n  const loadFilteredResults = (newFilters) => {\n    fetchFilteredProducts(skip, limit, newFilters).then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults(data.data);\n        setSize(data.size);\n        setSize(data.size);\n        setSkip(0);\n      }\n    });\n  };\n  const loadMore = () => {\n    let toSkip = skip + limit;\n    fetchFilteredProducts(toSkip, limit, myFilters.filters).then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults([...data.data, ...data.data]);\n        setSize(data.size);\n        setSize(data.size);\n        setSkip(toSkip);\n      }\n    });\n  };\n  const loadMoreButton = () => {\n    return (\n      size > 0 &&\n      size >= limit && (\n        <button onClick={loadMore} className='btn btn-warning mb-5'>\n          Load More\n        </button>\n      )\n    );\n  };\n  useEffect(() => {\n    fetchCategories();\n    loadFilteredResults(skip, limit, myFilters.filters);\n  }, []);\n\n  const handleFilters = (filters, filterBy) => {\n    const newFilters = { ...myFilters };\n    newFilters.filters[filterBy] = filters;\n\n    if (filterBy === 'price') {\n      let priceValues = handlePrice(filters);\n      newFilters.filters[filterBy] = priceValues;\n    }\n    loadFilteredResults(myFilters.filters);\n    setMyFilters(newFilters);\n  };\n\n  const handlePrice = (value) => {\n    const data = prices;\n    let array = [];\n\n    for (let key in data) {\n      if (data[key]._id === parseInt(value)) {\n        array = data[key].array;\n      }\n    }\n    return array;\n  };\n\n  return (\n    <Layout\n      title='Shop'\n      description='Search and find books of your choice.'\n      className='container'\n    >\n      <div className='row'>\n        <div className='col-2'>\n          <p className='font-weight-bold'>Filter by Categories</p>\n          <ul>\n            <Checkbox\n              categories={categories}\n              handleFilters={(filters) => handleFilters(filters, 'category')}\n            />\n          </ul>\n\n          <p className='font-weight-bold'>Filter by Prices</p>\n          <div className='ml-4'>\n            <RadioBox\n              prices={prices}\n              handleFilters={(filters) => handleFilters(filters, 'price')}\n            />\n          </div>\n        </div>\n        <div className='col-10'>\n          <h4 className='mb-4'>Products</h4>\n          <div className='row'>\n            {filteredResults.map((product, i) => (\n              <div className='col-4 mb-3' key={i}>\n                <Product product={product} />\n              </div>\n            ))}\n          </div>\n          <hr />\n          {loadMoreButton()}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","import { fetchAllProducts } from 'api/product';\nimport { Layout, Product, Search } from 'components';\nimport React, { useState, useEffect } from 'react';\n\nfunction Home() {\n  const [productsBySell, setProductsBySell] = useState([]);\n  const [productsByArrival, setProductsByArrival] = useState([]);\n  const [error, setError] = useState(false);\n\n  const loadProductsBySell = () => {\n    fetchAllProducts('sold').then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProductsBySell(data);\n      }\n    });\n  };\n  const loadProductsByArrival = () => {\n    fetchAllProducts('createdAt').then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProductsByArrival(data);\n      }\n    });\n  };\n  useEffect(() => {\n    loadProductsByArrival();\n    loadProductsBySell();\n  }, []);\n\n  return (\n    <Layout\n      className='container'\n      title='Home Page'\n      description='Shoppers online Ecommerce'\n    >\n      <Search />\n      <h3 className='mb-4'>Best Sellers</h3>\n      <div className='row'>\n        {productsBySell.map((product, index) => (\n          <div className='col-md-4 mb-3' key={index}>\n            <Product product={product} />\n          </div>\n        ))}\n      </div>\n\n      <h3 className='mb-4'>New Arrivals</h3>\n      <div className='row'>\n        {productsByArrival.map((product, index) => (\n          <div className='col-md-4 mb-3' key={index}>\n            <Product key={index} product={product} />\n          </div>\n        ))}\n      </div>\n    </Layout>\n  );\n}\n\nexport default Home;\n","import { isAuthenticated, signup } from 'api/auth';\nimport { Layout } from 'components';\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nfunction Signup() {\n  const [values, setValues] = useState({\n    name: '',\n    email: '',\n    password: '',\n    error: '',\n    success: '',\n  });\n  const { name, email, password, error, success } = values;\n\n  const handleChange = (name) => (e) => {\n    setValues({ ...values, error: false, [name]: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signup({ name, email, password }).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error, success: false });\n      } else {\n        setValues({\n          ...values,\n          name: '',\n          email: '',\n          password: '',\n          error: '',\n          success: true,\n        });\n      }\n    });\n  };\n\n  const signupForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className='form-group'>\n        <label htmlFor='name' className='text-muted'>\n          Name\n        </label>\n        <input\n          onChange={handleChange('name')}\n          value={name}\n          type='text'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='email' className='text-muted'>\n          Email\n        </label>\n        <input\n          onChange={handleChange('email')}\n          value={email}\n          type='email'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='password' className='text-muted'>\n          Password\n        </label>\n        <input\n          onChange={handleChange('password')}\n          value={password}\n          type='password'\n          className='form-control'\n        />\n      </div>\n      <button className='btn btn-primary mt-3'>Sign up</button>\n    </form>\n  );\n  const showError = () => (\n    <div\n      className='alert alert-danger'\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n  const showSuccess = () => (\n    <div\n      className='alert alert-success'\n      style={{ display: success ? '' : 'none' }}\n    >\n      Congrats! New Account is created. Please signin.\n    </div>\n  );\n  const redirectUser = () => {\n    if (isAuthenticated()) {\n      return <Redirect to='/' />;\n    }\n  };\n  return (\n    <Layout\n      title='Signup'\n      description='Register for an account to get started'\n      className='container col-md-4 offset-md-4'\n    >\n      {showError()}\n      {showSuccess()}\n      {signupForm()}\n      {redirectUser()}\n    </Layout>\n  );\n}\n\nexport default Signup;\n","import { signin, authenticate, isAuthenticated } from 'api/auth';\nimport { Layout } from 'components';\nimport { Redirect } from 'react-router-dom';\n\nconst { useState } = require('react');\n\nconst Signin = () => {\n  const [values, setValues] = useState({\n    email: '',\n    password: '',\n    error: '',\n    loading: false,\n    redirectToReferrer: false,\n  });\n  const { email, password, error, redirectToReferrer, loading } = values;\n  const { foundUser } = isAuthenticated();\n  const handleChange = (name) => (e) => {\n    setValues({ ...values, error: false, [name]: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signin({ email, password, loading: true }).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error, loading: false });\n      } else {\n        authenticate(data, () => {\n          setValues({\n            ...values,\n            redirectToReferrer: true,\n          });\n        });\n      }\n    });\n  };\n\n  const loginForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className='form-group mt-2'>\n        <label htmlFor='email' className='text-muted'>\n          Email\n        </label>\n        <input\n          onChange={handleChange('email')}\n          value={email}\n          type='email'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='password' className='text-muted'>\n          Password\n        </label>\n        <input\n          onChange={handleChange('password')}\n          value={password}\n          type='password'\n          className='form-control'\n        />\n      </div>\n      <button className='btn btn-primary mt-3'>Sign In</button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className='alert alert-danger'\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n\n  const showLoading = () => {\n    loading && (\n      <div className='alert alert-info'>\n        <p className='lead'>Loading...</p>\n      </div>\n    );\n  };\n\n  const redirectUser = () => {\n    if (redirectToReferrer) {\n      if (foundUser && foundUser.role === 1) {\n        return <Redirect to='/admin/dashboard' />;\n      } else {\n        return <Redirect to='/user/dashboard' />;\n      }\n    }\n    if (isAuthenticated()) {\n      return <Redirect to='/' />;\n    }\n  };\n\n  return (\n    <Layout\n      className='container col-md-4 offset-md-4'\n      title='Sign In'\n      description='Login to your Shoppers account'\n    >\n      {showLoading()}\n      {showError()}\n      {loginForm()}\n      {redirectUser()}\n    </Layout>\n  );\n};\n\nexport default Signin;\n","import { API } from 'config';\n\n// get user info\nexport const read = async (userId, token) => {\n  try {\n    const res = await fetch(`${API}/user/${userId}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// update user info\nexport const update = async (userId, token, user) => {\n  try {\n    const res = await fetch(`${API}/user/${userId}`, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(user),\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// update user info in LS\nexport const updateUser = (user, next) => {\n  try {\n    if (typeof window !== 'undefined') {\n      if (localStorage.getItem('jwt')) {\n        let auth = JSON.parse(localStorage.getItem('jwt'));\n        auth.foundUser = user;\n        localStorage.setItem('jwt', JSON.stringify(auth));\n        next();\n      }\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// get purchase history\nexport const getPurchaseHistory = async (userId, token) => {\n  try {\n    const res = await fetch(`${API}/orders/by/user/${userId}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return res.json();\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { isAuthenticated } from 'api/auth';\nimport { getPurchaseHistory } from 'api/user';\nimport { Layout } from 'components';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Dashboard = () => {\n  const [history, setHistory] = useState([]);\n\n  const loadPurchaseHistory = (userId, token) => {\n    getPurchaseHistory(userId, token).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setHistory(data);\n      }\n    });\n  };\n  const {\n    foundUser: { _id, name, email, role },\n    token,\n  } = isAuthenticated();\n\n  useEffect(() => {\n    loadPurchaseHistory(_id, token);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const userLinks = () => (\n    <div className='card'>\n      <h5 className='card-header'>User Links</h5>\n      <ul className='list-group'>\n        <li className='list-group-item'>\n          <Link className='nav-link' to='/cart'>\n            Cart\n          </Link>\n        </li>\n        <li className='list-group-item'>\n          <Link className='nav-link' to={`/profile/${_id}`}>\n            Update Profile\n          </Link>\n        </li>\n      </ul>\n    </div>\n  );\n\n  return (\n    <Layout\n      className='container'\n      title='Dashboard'\n      description={`Hey ${name}!`}\n    >\n      <div className='row'>\n        <div className='col-md-3'>{userLinks()}</div>\n        <div className='col-md-9'>\n          <div className='card mb-5'>\n            <h5 className='card-header'>User Information</h5>\n            <ul className='list-group'>\n              <li className='list-group-item'>{name}</li>\n              <li className='list-group-item'>{email}</li>\n              <li className='list-group-item'>\n                {role === 1 ? 'Admin' : 'Registered User'}\n              </li>\n            </ul>\n          </div>\n          <div className='card'>\n            <h5 className='card-header'>Purchase history</h5>\n            <ul className='list-group'>\n              <li className='list-group-item'>\n                {history.map((h, index) => {\n                  return (\n                    <div key={index}>\n                      <hr />\n                      {h.products.map((product, pIndex) => {\n                        return (\n                          <div key={pIndex}>\n                            <h6>Product name: {product.name}</h6>\n                            <h6>Product price: {product.price}</h6>\n                            <h6>\n                              Purchased date: {moment(h.createdAt).fromNow()}\n                            </h6>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  );\n                })}\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Dashboard;\n","import { isAuthenticated } from 'api/auth';\nimport { Layout } from 'components';\nimport { Link } from 'react-router-dom';\n\nconst AdminDashboard = () => {\n  const {\n    foundUser: { name, email, role },\n  } = isAuthenticated();\n\n  const adminLinks = () => (\n    <div className='card'>\n      <h5 className='card-header'>Admin Links</h5>\n      <ul className='list-group'>\n        <li className='list-group-item'>\n          <Link className='nav-link' to='/admin/category/create'>\n            Create Category\n          </Link>\n        </li>\n        <li className='list-group-item'>\n          <Link className='nav-link' to='/admin/product/create'>\n            Create Product\n          </Link>\n        </li>\n        <li className='list-group-item'>\n          <Link className='nav-link' to='/admin/orders'>\n            View Orders\n          </Link>\n        </li>\n        <li className='list-group-item'>\n          <Link className='nav-link' to='/admin/products'>\n            Manage Products\n          </Link>\n        </li>\n      </ul>\n    </div>\n  );\n\n  return (\n    <Layout\n      className='container'\n      title='Admin Dashboard'\n      description={`Hey ${name}!`}\n    >\n      <div className='row'>\n        <div className='col-md-3'>{adminLinks()}</div>\n        <div className='col-md-9'>\n          <div className='card mb-5'>\n            <h5 className='card-header'>Admin Information</h5>\n            <ul className='list-group'>\n              <li className='list-group-item'>{name}</li>\n              <li className='list-group-item'>{email}</li>\n              <li className='list-group-item'>\n                {role === 1 ? 'Admin' : 'Registered User'}\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default AdminDashboard;\n","import { isAuthenticated } from 'api/auth';\nimport { createCategory } from 'api/category';\nimport { Layout } from 'components';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst CreateCategory = () => {\n  const [name, setName] = useState('');\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const { foundUser, token } = isAuthenticated();\n\n  const handleChange = (e) => {\n    setError('');\n    setName(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setError('');\n    // make a request to the api\n    createCategory(foundUser._id, token, { name }).then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setName('');\n        setError('');\n        setSuccess(true);\n      }\n    });\n  };\n\n  const categoryForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className='form-group'>\n        <label htmlFor='name' className='text-muted'>\n          Name\n        </label>\n        <input\n          onChange={handleChange}\n          value={name}\n          autoFocus\n          required\n          type='text'\n          className='form-control'\n        />\n      </div>\n      <button className='btn btn-outline-secondary mt-3'>Create Category</button>\n    </form>\n  );\n\n  const showSuccess = () => {\n    if (success) {\n      return (\n        <div className='alert alert-success'>\n          <span className='text-success p-0'>Category is created</span>\n        </div>\n      );\n    }\n  };\n  const showError = () => {\n    if (error) {\n      return (\n        <div className='alert alert-danger'>\n          <span className='text-danger p-0'>Category should be unique</span>\n        </div>\n      );\n    }\n  };\n\n  const goBack = () => (\n    <div className='mt-5'>\n      <Link to='/admin/dashboard'>Back to Dashboard</Link>\n    </div>\n  );\n  return (\n    <Layout\n      className='container '\n      title='Add new category'\n      description={`Hey ${foundUser.name}, ready to add new category`}\n    >\n      <div className='row'>\n        <div className='col-md-4 offset-4'>\n          {showError()}\n          {showSuccess()}\n          {categoryForm()}\n          {goBack()}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default CreateCategory;\n","import { isAuthenticated } from 'api/auth';\nimport { getCategories } from 'api/category';\nimport { createProduct } from 'api/product';\nimport { Layout } from 'components';\nimport React, { useEffect, useState } from 'react';\n\nconst CreateProduct = () => {\n  const [values, setValues] = useState({\n    name: '',\n    description: '',\n    price: '',\n    quantity: '',\n    shipping: '',\n    photo: '',\n    categories: [],\n    category: '',\n    error: '',\n    success: '',\n    loading: false,\n    redirectToProfile: false,\n    formData: '',\n  });\n  const {\n    name,\n    description,\n    price,\n    quantity,\n    categories,\n    error,\n    success,\n    loading,\n    formData,\n  } = values;\n\n  //   load categories and initialize formData\n  const initializeCategoriesAndFormData = () => {\n    getCategories().then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({ ...values, categories: data, formData: new FormData() });\n      }\n    });\n  };\n\n  useEffect(() => {\n    initializeCategoriesAndFormData();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const { foundUser, token } = isAuthenticated();\n\n  const handleChange = (name) => (e) => {\n    const value = name === 'photo' ? e.target.files[0] : e.target.value;\n    formData.set(name, value);\n    setValues({ ...values, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setValues({\n      ...values,\n      error: '',\n      loading: true,\n    });\n    createProduct(foundUser._id, token, formData).then((data) => {\n      if (data.error) {\n        setValues({\n          ...values,\n          error: data.error,\n          success: false,\n          loading: false,\n        });\n      } else {\n        setValues({\n          ...values,\n          name: '',\n          description: '',\n          price: '',\n          quantity: '',\n          shipping: '',\n          photo: '',\n          categories: [],\n          category: '',\n          error: '',\n          success: true,\n          loading: false,\n          formData: '',\n        });\n      }\n    });\n  };\n\n  const productForm = () => (\n    <form onSubmit={handleSubmit}>\n      <h5>Upload Photo</h5>\n      <div className='form-group'>\n        <label className='btn btn-secondary'>\n          <input\n            onChange={handleChange('photo')}\n            type='file'\n            name='photo'\n            accept='image/*'\n          />\n        </label>\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='name'>Name</label>\n        <input\n          onChange={handleChange('name')}\n          value={name}\n          type='text'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='descrition'>Description</label>\n        <textarea\n          onChange={handleChange('description')}\n          value={description}\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='name'>Price</label>\n        <input\n          onChange={handleChange('price')}\n          value={price}\n          type='number'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='name'>Quantity</label>\n        <input\n          onChange={handleChange('quantity')}\n          value={quantity}\n          type='number'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='category'>Category</label>\n        <select onChange={handleChange('category')} className='form-control'>\n          <option>Please select</option>\n          {categories &&\n            categories.map((c, index) => (\n              <option key={index} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='shipping'>Shipping</label>\n        <select onChange={handleChange('shipping')} className='form-control'>\n          <option>Please select</option>\n          <option value='0'>No</option>\n          <option value='1'>Yes</option>\n        </select>\n      </div>\n      <button className='btn btn-dark mt-4'>Create Product</button>\n    </form>\n  );\n\n  const showLoading = () =>\n    loading && (\n      <div className='alert alert-info'>\n        <p className='lead'>Loading...</p>\n      </div>\n    );\n  const showSuccess = () => (\n    <div\n      className='alert alert-success'\n      style={{ display: success ? '' : 'none' }}\n    >\n      Product created successfully\n    </div>\n  );\n  const showError = () => (\n    <div\n      className='alert alert-danger'\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n  const goBack = () => {};\n\n  return (\n    <Layout\n      className='container mb-5'\n      title='Add new product'\n      description={`Hey ${foundUser.name}, ready to add new product`}\n    >\n      <div className='row'>\n        <div className='col-md-4 offset-4'>\n          {showLoading()}\n          {showSuccess()}\n          {showError()}\n          {productForm()}\n          {goBack()}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default CreateProduct;\n","import { isAuthenticated } from 'api/auth';\nimport { getCategories } from 'api/category';\nimport { read, updateProduct } from 'api/product';\nimport { Layout } from 'components';\nimport React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router';\n\nconst UpdateProduct = ({ match }) => {\n  const [values, setValues] = useState({\n    name: '',\n    description: '',\n    price: '',\n    quantity: '',\n    shipping: '',\n    photo: '',\n    categories: [],\n    category: '',\n    error: '',\n    success: '',\n    loading: false,\n    redirectToProfile: false,\n    formData: '',\n  });\n  const {\n    name,\n    description,\n    price,\n    quantity,\n    categories,\n    error,\n    success,\n    loading,\n    formData,\n    redirectToProfile,\n  } = values;\n\n  //   load categories and initialize formData\n  const initializeCategoriesAndFormData = () => {\n    getCategories().then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({ categories: data, formData: new FormData() });\n      }\n    });\n  };\n\n  const fetchProduct = (productId) => {\n    read(productId).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        //   populate the state\n        setValues({\n          ...values,\n          name: data.name,\n          description: data.description,\n          price: data.price,\n          category: data.category._id,\n          shipping: data.shipping,\n          quantity: data.quantity,\n          formData: new FormData(),\n        });\n        // load categories\n        initializeCategoriesAndFormData();\n      }\n    });\n  };\n\n  useEffect(() => {\n    initializeCategoriesAndFormData();\n    fetchProduct(match.params.productId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const { foundUser, token } = isAuthenticated();\n\n  const handleChange = (name) => (e) => {\n    const value = name === 'photo' ? e.target.files[0] : e.target.value;\n    formData.set(name, value);\n    setValues({ ...values, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setValues({\n      ...values,\n      error: '',\n      loading: true,\n    });\n    updateProduct(match.params.productId, foundUser._id, token, formData).then(\n      (data) => {\n        if (data.error) {\n          setValues({\n            ...values,\n            error: data.error,\n            success: false,\n            loading: false,\n          });\n        } else {\n          setValues({\n            ...values,\n            name: '',\n            description: '',\n            price: '',\n            quantity: '',\n            shipping: '',\n            photo: '',\n            categories: [],\n            category: '',\n            error: false,\n            redirectToProfile: true,\n            success: true,\n            loading: false,\n            formData: '',\n          });\n        }\n      }\n    );\n  };\n\n  const productForm = () => (\n    <form onSubmit={handleSubmit}>\n      <h5>Upload Photo</h5>\n      <div className='form-group'>\n        <label className='btn btn-secondary'>\n          <input\n            onChange={handleChange('photo')}\n            type='file'\n            name='photo'\n            accept='image/*'\n          />\n        </label>\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='name'>Name</label>\n        <input\n          onChange={handleChange('name')}\n          value={name}\n          type='text'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='descrition'>Description</label>\n        <textarea\n          onChange={handleChange('description')}\n          value={description}\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='name'>Price</label>\n        <input\n          onChange={handleChange('price')}\n          value={price}\n          type='number'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='name'>Quantity</label>\n        <input\n          onChange={handleChange('quantity')}\n          value={quantity}\n          type='number'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='category'>Category</label>\n        <select onChange={handleChange('category')} className='form-control'>\n          <option>Please select</option>\n          {categories &&\n            categories.map((c, index) => (\n              <option key={index} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n      <div className='form-group mt-2'>\n        <label htmlFor='shipping'>Shipping</label>\n        <select onChange={handleChange('shipping')} className='form-control'>\n          <option>Please select</option>\n          <option value='0'>No</option>\n          <option value='1'>Yes</option>\n        </select>\n      </div>\n      <button className='btn btn-sm btn-dark mt-4'>Update Product</button>\n    </form>\n  );\n\n  const showLoading = () =>\n    loading && (\n      <div className='alert alert-info'>\n        <p className='lead'>Loading...</p>\n      </div>\n    );\n  const showSuccess = () => (\n    <div\n      className='alert alert-success'\n      style={{ display: success ? '' : 'none' }}\n    >\n      Product updated successfully\n    </div>\n  );\n  const showError = () => (\n    <div\n      className='alert alert-danger'\n      style={{ display: error ? '' : 'none' }}\n    >\n      {error}\n    </div>\n  );\n  const redirectUser = () => {\n    if (redirectToProfile) {\n      if (!error) {\n        return <Redirect to='/' />;\n      }\n    }\n  };\n  const goBack = () => {};\n\n  return (\n    <Layout\n      className='container mb-5'\n      title='Add new product'\n      description={`Hey ${foundUser.name}, ready to add new product`}\n    >\n      <div className='row'>\n        <div className='col-md-4 offset-4'>\n          {showLoading()}\n          {showSuccess()}\n          {showError()}\n          {productForm()}\n          {goBack()}\n          {redirectUser()}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default UpdateProduct;\n","/* eslint-disable no-unused-vars */\nimport { read, listRelated } from 'api/product';\nimport { Layout, Product } from 'components';\nimport React, { useEffect, useState } from 'react';\n\nconst ProductDetails = (props) => {\n  const [product, setProduct] = useState({});\n  const [relatedProduct, setRelatedProduct] = useState([]);\n  const [error, setError] = useState(false);\n\n  const fetchSingleProduct = (productId) => {\n    read(productId).then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data);\n        // then fetch related products\n        listRelated(data._id).then((data) => {\n          if (data.error) {\n            setError(data.error);\n          } else {\n            setRelatedProduct(data);\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const { productId } = props.match.params;\n    fetchSingleProduct(productId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props]);\n\n  return (\n    <Layout\n      title={product.name}\n      description={\n        product && product.description && product.description.substring(0, 100)\n      }\n      className='container'\n    >\n      <div className='row'>\n        <div className='col-md-8'>\n          {product && product.description && (\n            <Product product={product} showViewProductButton={false} />\n          )}\n        </div>\n        <div className='col-md-4'>\n          <h4>Related products</h4>\n          {relatedProduct.map((product, i) => (\n            <div className='mb-3'>\n              <Product key={i} product={product} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default ProductDetails;\n","import { Checkout, Layout, Product } from 'components';\nimport { getCart } from 'components/Cart/CartHelpers';\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Cart = () => {\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    setItems(getCart());\n  }, []);\n\n  const showItemsFromLs = () => {\n    return (\n      <div>\n        <p className='lead'>Your cart has {`${items.length}`} item(s)</p>\n        <hr />\n        {items.map((item, index) => (\n          <Product\n            key={index}\n            product={item}\n            cartUpdate={true}\n            showAddToCartButton={false}\n            showRemoveProductButton={true}\n          />\n        ))}\n      </div>\n    );\n  };\n  const notItemsMessage = () => {\n    <h4>\n      Your cart is empty.{' '}\n      <br>\n        <Link to='/shop'>Continue shopping</Link>\n      </br>\n    </h4>;\n  };\n\n  return (\n    <Layout\n      title='Shopping Cart'\n      description='Manage your cart items. Add remove checkout or continue shopping.'\n      className='container'\n    >\n      <div className='row'>\n        <div className='col-md-6'>\n          {items.length > 0 ? showItemsFromLs() : notItemsMessage()}\n        </div>\n        <div className='col-md-6'>\n          <h4 className='mb-3'>Order Summary</h4>\n          <hr />\n          <Checkout products={items} />\n        </div>\n      </div>\n    </Layout>\n  );\n};\nexport default Cart;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { isAuthenticated } from 'api/auth';\nimport { listOrders, getPaymentStatus, updateOrderStatus } from 'api/order';\nimport { Layout } from 'components';\nimport moment from 'moment';\nimport { useEffect, useState } from 'react';\n\nconst Orders = () => {\n  const [orders, setOrders] = useState([]);\n  const [statusValues, setStatusValues] = useState([]);\n  const {\n    foundUser: { _id, name },\n    token,\n  } = isAuthenticated();\n\n  const loadOrders = () => {\n    listOrders(_id, token).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setOrders(data);\n      }\n    });\n  };\n  const loadPaymentStatus = () => {\n    getPaymentStatus(_id, token).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setStatusValues(data);\n      }\n    });\n  };\n  useEffect(() => {\n    loadOrders();\n    loadPaymentStatus();\n  }, []);\n  const handleStatusChange = (e, orderId) => {\n    updateOrderStatus(_id, token, orderId, e.target.value).then((data) => {\n      if (data.error) {\n        console.log('Status update failed');\n      } else {\n        loadOrders();\n      }\n    });\n  };\n  const showOrdersLength = () => {\n    if (orders.length > 0) {\n      return (\n        <h5 className='text-danger display-5'>Total orders:{orders.length}</h5>\n      );\n    } else {\n      return <h5 className='text-danger'>No orders</h5>;\n    }\n  };\n  const showInput = (key, value) => (\n    <div className='input-group mb-2 mr-sm-2'>\n      <div className='input-group-prepend'>\n        <div className='input-group-text'>{key}</div>\n      </div>\n      <input type='text' value={value} className='form-control' readOnly />\n    </div>\n  );\n  const showStatus = (order) => (\n    <div className='form-group'>\n      <h3 className='mark mb-4'>Status:{order.status}</h3>\n      <select\n        className='form-control'\n        onChange={(e) => handleStatusChange(e, order._id)}\n      >\n        <option>Update Status</option>\n        {statusValues.map((status, index) => (\n          <option key={index} value={status}>\n            {status}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n  return (\n    <Layout\n      className='container '\n      title='Orders'\n      description={`Hey ${name}, you can manage all the orders here`}\n    >\n      <div className='row'>\n        <div className='col-md-8 offset-md-2'>\n          {showOrdersLength()}\n          {orders.map((order, i) => {\n            return (\n              <div\n                className='mt-5'\n                key={i}\n                style={{ borderBottom: '5px solid indigo' }}\n              >\n                <h4 className='bg-primary'>Order ID:{order._id}</h4>\n                <ul className='list-group mb-2'>\n                  <li className='list-group-item'>\n                    Status: {showStatus(order)}\n                  </li>\n                  <li className='list-group-item'>\n                    Transaction ID: {order.transaction_id}\n                  </li>\n\n                  <li className='list-group-item'>\n                    Delivery address: {order.address}\n                  </li>\n                  <li className='list-group-item'>\n                    Ordered on: {moment(order.createdAt).fromNow()}\n                  </li>\n                </ul>\n                <h3 className='mt-4 mb-4 font-italic'>\n                  Total products in the order:{order.products.length}\n                </h3>\n                {order.products.map((product, pIndex) => (\n                  <div\n                    className='mb-4'\n                    key={pIndex}\n                    style={{ padding: '20px', border: '1px solid lightgreen' }}\n                  >\n                    {showInput('Product name', product.name)}\n                    {showInput('Product price', product.price)}\n                    {showInput('Product total', product.count)}\n                    {showInput('Product Id', product._id)}\n                  </div>\n                ))}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Orders;\n","import { isAuthenticated } from 'api/auth';\nimport { read, update, updateUser } from 'api/user';\nimport { Layout } from 'components';\nimport React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router';\n\nconst Profile = ({ match }) => {\n  const [values, setValues] = useState({\n    name: '',\n    email: '',\n    password: '',\n    error: false,\n    success: false,\n  });\n  const { name, email, password, success } = values;\n  const { token } = isAuthenticated();\n\n  const loadUserInfo = (userId) => {\n    read(userId, token).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: true });\n      } else {\n        setValues({\n          ...values,\n          name: data.name,\n          email: data.email,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadUserInfo(match.params.userId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleChange = (name) => (e) => {\n    setValues({ ...values, error: false, [name]: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    update(match.params.userId, token, { name, email, password }).then(\n      (data) => {\n        if (data.error) {\n          setValues({ ...values, error: true });\n        } else {\n          updateUser(data, () => {\n            setValues({\n              ...values,\n              name: data.name,\n              email: data.email,\n              success: true,\n            });\n          });\n        }\n      }\n    );\n  };\n  const redirectUser = (success) => {\n    if (success) {\n      return <Redirect to='/cart' />;\n    }\n  };\n  const profileUpdate = (name, email, password) => (\n    <form>\n      <div className='form-group'>\n        <label htmlFor='name' className='text-muted'>\n          Name\n        </label>\n        <input\n          type='text'\n          onChange={handleChange('name')}\n          value={name}\n          className='form-control'\n        />\n      </div>\n\n      <div className='form-group'>\n        <label htmlFor='email' className='text-muted'>\n          Email\n        </label>\n        <input\n          type='email'\n          onChange={handleChange('email')}\n          value={email}\n          className='form-control'\n        />\n      </div>\n      <div className='form-group'>\n        <label htmlFor='password' className='text-muted'>\n          Password\n        </label>\n        <input\n          type='password'\n          onChange={handleChange('password')}\n          value={password}\n          className='form-control'\n        />\n      </div>\n      <button onClick={handleSubmit} className='btn btn-primary btn-sm'>\n        Submit\n      </button>\n    </form>\n  );\n\n  return (\n    <Layout\n      title='Profile'\n      description='Update your profile'\n      className='container'\n    >\n      {profileUpdate(name, email, password)}\n      {redirectUser(success)}\n    </Layout>\n  );\n};\nexport default Profile;\n","import { isAuthenticated } from 'api/auth';\nimport { deleteProduct, getProducts } from 'api/product';\nimport { Layout } from 'components';\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ManageProducts = () => {\n  const [products, setProducts] = useState([]);\n  const {\n    foundUser: { _id },\n    token,\n  } = isAuthenticated();\n\n  const fetchProducts = () => {\n    getProducts().then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setProducts(data);\n      }\n    });\n  };\n\n  const removeProduct = (productId) => {\n    deleteProduct(productId, _id, token).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        // load products again\n        fetchProducts();\n      }\n    });\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  return (\n    <Layout\n      title='Manage Products'\n      description='Perform CRUD operations'\n      className='container'\n    >\n      <div className='container'>\n        <div className='row'>\n          <div className='col-md-12'>\n            <p className='lead'>Total ({products.length}) products</p>\n            <ul className='list-group'>\n              {products.map((product, pIndex) => (\n                <li\n                  key={pIndex}\n                  className='list-group-item d-flex justify-content-between align-items-center'\n                >\n                  <strong>{product.name}</strong>\n                  <div className='div d-flex justify-content-between align-items-center'>\n                    <Link to={`/admin/product/update/${product._id}`}>\n                      <span className='btn btn-sm btn-warning'>Update</span>\n                    </Link>\n                    <span\n                      onClick={() => removeProduct(product._id)}\n                      className='btn btn-sm btn-danger ml-2'\n                    >\n                      Trash\n                    </span>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\nexport default ManageProducts;\n","import { AdminRoute, PrivateRoute } from 'components';\nimport Shop from 'components/shop';\nimport {\n  AdminDashboard,\n  CreateCategory,\n  CreateProduct,\n  Dashboard,\n  ProductDetails,\n  Home,\n  Signin,\n  Signup,\n  Cart,\n  Orders,\n  Profile,\n  ManageProducts,\n  UpdateProduct,\n} from 'pages';\n\nimport { Switch, Route } from 'react-router-dom';\n\nexport const Routes = () => {\n  return (\n    <Switch>\n      <Route exact path='/' component={Home} />\n      <Route exact path='/shop' component={Shop} />\n      <Route exact path='/signup' component={Signup} />\n      <Route exact path='/signin' component={Signin} />\n      <PrivateRoute exact path='/user/dashboard' component={Dashboard} />\n      <PrivateRoute exact path='/admin/dashboard' component={AdminDashboard} />\n      <Route exact path='/products/:productId' component={ProductDetails} />\n      <Route exact path='/cart' component={Cart} />\n\n      <AdminRoute\n        exact\n        path='/admin/category/create'\n        component={CreateCategory}\n      />\n      <AdminRoute\n        exact\n        path='/admin/product/create'\n        component={CreateProduct}\n      />\n      <AdminRoute exact path='/admin/products' component={ManageProducts} />\n      <AdminRoute\n        exact\n        path='/admin/product/update/:productId'\n        component={UpdateProduct}\n      />\n      <AdminRoute exact path='/admin/orders' component={Orders} />\n      <PrivateRoute exact path='/profile/:userId' component={Profile} />\n    </Switch>\n  );\n};\n","import { BrowserRouter as Router } from 'react-router-dom';\n\nimport { Routes } from 'Routes';\n\n\nfunction App() {\n  return (\n    <div>\n      <Router>\n        <Routes />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.bundle';\nimport App from 'App';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}